var on=Object.defineProperty;var ln=(e,t,n)=>t in e?on(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var A=(e,t,n)=>(ln(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function M(){}function un(e,t){for(const n in t)e[n]=t[n];return e}function Ge(e){return e()}function Ce(){return Object.create(null)}function ee(e){e.forEach(Ge)}function P(e){return typeof e=="function"}function X(e,t){return e!=e?t==t:e!==t||e&&typeof e=="object"||typeof e=="function"}function an(e){return Object.keys(e).length===0}function cn(e,...t){if(e==null){for(const i of t)i(void 0);return M}const n=e.subscribe(...t);return n.unsubscribe?()=>n.unsubscribe():n}function Je(e,t,n){e.$$.on_destroy.push(cn(t,n))}function Qe(e,t,n,i){if(e){const s=Ze(e,t,n,i);return e[0](s)}}function Ze(e,t,n,i){return e[1]&&i?un(n.ctx.slice(),e[1](i(t))):n.ctx}function Ve(e,t,n,i){if(e[2]&&i){const s=e[2](i(n));if(t.dirty===void 0)return s;if(typeof s=="object"){const r=[],o=Math.max(t.dirty.length,s.length);for(let u=0;u<o;u+=1)r[u]=t.dirty[u]|s[u];return r}return t.dirty|s}return t.dirty}function $e(e,t,n,i,s,r){if(s){const o=Ze(t,n,i,r);e.p(o,s)}}function xe(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let i=0;i<n;i++)t[i]=-1;return t}return-1}function dn(e,t,n){return e.set(n),t}function k(e,t){e.appendChild(t)}function B(e,t,n){e.insertBefore(t,n||null)}function z(e){e.parentNode&&e.parentNode.removeChild(e)}function ve(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function E(e){return document.createElement(e)}function fe(e){return document.createTextNode(e)}function W(){return fe(" ")}function p(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function pe(e){return function(t){return t.preventDefault(),e.call(this,t)}}function b(e,t,n){n==null?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function fn(e){return e===""?null:+e}function hn(e){return Array.from(e.childNodes)}function we(e,t){t=""+t,e.data!==t&&(e.data=t)}function be(e,t){e.value=t??""}function O(e,t,n,i){n==null?e.style.removeProperty(t):e.style.setProperty(t,n,i?"important":"")}function Ne(e,t,n){for(let i=0;i<e.options.length;i+=1){const s=e.options[i];if(s.__value===t){s.selected=!0;return}}(!n||t!==void 0)&&(e.selectedIndex=-1)}function gn(e){const t=e.querySelector(":checked");return t&&t.__value}let _e;function pn(){if(_e===void 0){_e=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{_e=!0}}return _e}function _n(e,t){getComputedStyle(e).position==="static"&&(e.style.position="relative");const i=E("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const s=pn();let r;return s?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",r=p(window,"message",o=>{o.source===i.contentWindow&&t()})):(i.src="about:blank",i.onload=()=>{r=p(i.contentWindow,"resize",t),t()}),k(e,i),()=>{(s||r&&i.contentWindow)&&r(),z(i)}}function mn(e,t,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:i})}let ce;function le(e){ce=e}function he(){if(!ce)throw new Error("Function called outside component initialization");return ce}function yn(e){he().$$.on_mount.push(e)}function et(e){he().$$.on_destroy.push(e)}function vn(){const e=he();return(t,n,{cancelable:i=!1}={})=>{const s=e.$$.callbacks[t];if(s){const r=mn(t,n,{cancelable:i});return s.slice().forEach(o=>{o.call(e,r)}),!r.defaultPrevented}return!0}}function bn(e,t){return he().$$.context.set(e,t),t}function wn(e){return he().$$.context.get(e)}function v(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach(i=>i.call(this,t))}const ie=[],j=[];let re=[];const Ie=[],Ln=Promise.resolve();let Oe=!1;function An(){Oe||(Oe=!0,Ln.then(tt))}function de(e){re.push(e)}function J(e){Ie.push(e)}const Ee=new Set;let te=0;function tt(){if(te!==0)return;const e=ce;do{try{for(;te<ie.length;){const t=ie[te];te++,le(t),kn(t.$$)}}catch(t){throw ie.length=0,te=0,t}for(le(null),ie.length=0,te=0;j.length;)j.pop()();for(let t=0;t<re.length;t+=1){const n=re[t];Ee.has(n)||(Ee.add(n),n())}re.length=0}while(ie.length);for(;Ie.length;)Ie.pop()();Oe=!1,Ee.clear(),le(e)}function kn(e){if(e.fragment!==null){e.update(),ee(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(de)}}function Sn(e){const t=[],n=[];re.forEach(i=>e.indexOf(i)===-1?t.push(i):n.push(i)),n.forEach(i=>i()),re=t}const me=new Set;let x;function ue(){x={r:0,c:[],p:x}}function ae(){x.r||ee(x.c),x=x.p}function L(e,t){e&&e.i&&(me.delete(e),e.i(t))}function S(e,t,n,i){if(e&&e.o){if(me.has(e))return;me.add(e),x.c.push(()=>{me.delete(e),i&&(n&&e.d(1),i())}),e.o(t)}else i&&i()}function $(e){return(e==null?void 0:e.length)!==void 0?e:Array.from(e)}function Q(e,t,n){const i=e.$$.props[t];i!==void 0&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function F(e){e&&e.c()}function T(e,t,n){const{fragment:i,after_update:s}=e.$$;i&&i.m(t,n),de(()=>{const r=e.$$.on_mount.map(Ge).filter(P);e.$$.on_destroy?e.$$.on_destroy.push(...r):ee(r),e.$$.on_mount=[]}),s.forEach(de)}function D(e,t){const n=e.$$;n.fragment!==null&&(Sn(n.after_update),ee(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function En(e,t){e.$$.dirty[0]===-1&&(ie.push(e),An(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function H(e,t,n,i,s,r,o,u=[-1]){const d=ce;le(e);const l=e.$$={fragment:null,ctx:[],props:r,update:M,not_equal:s,bound:Ce(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(t.context||(d?d.$$.context:[])),callbacks:Ce(),dirty:u,skip_bound:!1,root:t.target||d.$$.root};o&&o(l.root);let f=!1;if(l.ctx=n?n(e,t.props||{},(c,h,..._)=>{const g=_.length?_[0]:h;return l.ctx&&s(l.ctx[c],l.ctx[c]=g)&&(!l.skip_bound&&l.bound[c]&&l.bound[c](g),f&&En(e,c)),h}):[],l.update(),f=!0,ee(l.before_update),l.fragment=i?i(l.ctx):!1,t.target){if(t.hydrate){const c=hn(t.target);l.fragment&&l.fragment.l(c),c.forEach(z)}else l.fragment&&l.fragment.c();t.intro&&L(e.$$.fragment),T(e,t.target,t.anchor),tt()}le(d)}class K{constructor(){A(this,"$$");A(this,"$$set")}$destroy(){D(this,1),this.$destroy=M}$on(t,n){if(!P(n))return M;const i=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return i.push(n),()=>{const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}$set(t){this.$$set&&!an(t)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}const In="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(In);getComputedStyle(document.body).getPropertyValue("background-color");let oe="rgb(220, 220, 220)";function On(e){let t,n,i,s,r=(typeof e[4]=="string"?`${e[4]}: ${e[0]}`:e[4](e[0]))+"",o,u,d;return{c(){t=E("div"),n=E("input"),i=W(),s=E("span"),o=fe(r),b(n,"type","range"),b(n,"min",e[1]),b(n,"max",e[2]),b(n,"step",e[3]),b(n,"class","svelte-zgqnk3"),O(s,"--color",e[5]),b(s,"class","svelte-zgqnk3"),b(t,"class","slidercontainer svelte-zgqnk3")},m(l,f){B(l,t,f),k(t,n),be(n,e[0]),k(t,i),k(t,s),k(s,o),u||(d=[p(n,"change",e[7]),p(n,"input",e[7])],u=!0)},p(l,[f]){f&2&&b(n,"min",l[1]),f&4&&b(n,"max",l[2]),f&8&&b(n,"step",l[3]),f&1&&be(n,l[0]),f&17&&r!==(r=(typeof l[4]=="string"?`${l[4]}: ${l[0]}`:l[4](l[0]))+"")&&we(o,r)},i:M,o:M,d(l){l&&z(t),u=!1,ee(d)}}}function Rn(e,t,n){let{min:i=0}=t,{max:s=100}=t,{step:r=1}=t,{initialValue:o=1/0}=t,{value:u}=t;o!=1/0&&(u=o);let d=oe,{text:l=c=>`${c}`}=t;function f(){u=fn(this.value),n(0,u)}return e.$$set=c=>{"min"in c&&n(1,i=c.min),"max"in c&&n(2,s=c.max),"step"in c&&n(3,r=c.step),"initialValue"in c&&n(6,o=c.initialValue),"value"in c&&n(0,u=c.value),"text"in c&&n(4,l=c.text)},[u,i,s,r,l,d,o,f]}class Pn extends K{constructor(t){super(),H(this,t,Rn,On,X,{min:1,max:2,step:3,initialValue:6,value:0,text:4})}}const ne=[];function Cn(e,t){return{subscribe:nt(e,t).subscribe}}function nt(e,t=M){let n;const i=new Set;function s(u){if(X(e,u)&&(e=u,n)){const d=!ne.length;for(const l of i)l[1](),ne.push(l,e);if(d){for(let l=0;l<ne.length;l+=2)ne[l][0](ne[l+1]);ne.length=0}}}function r(u){s(u(e))}function o(u,d=M){const l=[u,d];return i.add(l),i.size===1&&(n=t(s,r)||M),u(e),()=>{i.delete(l),i.size===0&&n&&(n(),n=null)}}return{set:s,update:r,subscribe:o}}function Me(e){return e*2654435761%2**32}function*Nn(e){let t=[...e.nodes.all()].sort((n,i)=>Me(n)-Me(i));e.edges.clear();for(let n=0;n<t.length;n++)e.edges.add([t[n],t[(n+1)%t.length]]),yield}class Mn{constructor(){A(this,"nextIdx",0);A(this,"nodes",new Map)}add(t,n){this.nodes.set(this.nextIdx,[t,n]),this.nextIdx++}setCoords(t,n){if(!this.nodes.has(t))throw new Error(`node ${t} not found`);this.nodes.set(t,n)}get(t){let n=this.nodes.get(t);if(n===void 0)throw new Error(`node ${t} not found`);return n}delete(t){this.nodes.delete(t)}count(){return this.nodes.size}all(){return this.nodes.keys()}}class qn{constructor(){A(this,"edges",new Set)}associateNumber(t){let n=[...t].sort((i,s)=>i-s).reverse();return n[0]*(n[0]+1)/2+n[1]}disassociateNumber(t){let n=Math.floor((Math.sqrt(8*t+1)-1)/2),i=t-n*(n+1)/2;return[n,i]}add(t){if(t[0]===t[1])throw new Error("self loop not allowed");this.edges.add(this.associateNumber(t))}delete(t){return this.edges.delete(this.associateNumber(t))}has(t){return this.edges.has(this.associateNumber(t))}count(){return this.edges.size}*all(){for(let t of this.edges)yield this.disassociateNumber(t)}clear(){this.edges.clear()}}class it{constructor(){A(this,"nodes",new Mn);A(this,"edges",new qn)}addRandomNodes(t=1){for(let n=0;n<t;n++)this.nodes.add(Math.random(),Math.random())}adjustNumberOfNodes(t){if(this.nodes.count()<t)this.addRandomNodes(t-this.nodes.count());else if(this.nodes.count()>t){let n=[...this.nodes.all()].slice(t);for(let i of n)this.nodes.delete(i)}}length(t){const[n,i]=this.nodes.get(t[0]),[s,r]=this.nodes.get(t[1]);return Math.sqrt((n-s)**2+(i-r)**2)}totalLength(){let t=0;for(let n of this.edges.all())t+=this.length(n);return t}neighborMap(){var n,i;let t=new Map;for(let[s,r]of this.edges.all())t.has(s)||t.set(s,new Set),t.has(r)||t.set(r,new Set),(n=t.get(s))==null||n.add(r),(i=t.get(r))==null||i.add(s);return t}neighbors(t){let n=new Set;for(let[i,s]of this.edges.all())i===t&&n.add(s),s===t&&n.add(i);return n}isClosedLoop(){if(this.edges.count()<3)return!1;let t=this.neighborMap(),n=t.keys().next().value,i=-1,s=n,r=0;do{let o=[...t.get(s).values()];if(o.length!==2)return!1;o=o.filter(u=>u!==i),i=s,s=o[0],r++}while(s!==n&&r<=this.edges.count()+1);return r===this.edges.count()}}function*zn(e){for(;Tn(e);)yield}function Tn(e){let t=[...e.edges.all()];for(;t.length>=2;){let n=t.pop();for(let i of t){let[s,r,o]=Dn(n,i,e);if(s)return e.edges.delete(n),e.edges.delete(i),e.edges.add(r),e.edges.add(o),!0}}return!1}function Dn(e,t,n){function i(l,f){if(n.length(l)+n.length(f)>=s)return!1;let c=new it;for(let h of n.edges.all())c.edges.add(h);return c.edges.delete(e),c.edges.delete(t),c.edges.add(l),c.edges.add(f),c.isClosedLoop()}const s=n.length(e)+n.length(t),[r,o]=e,[u,d]=t;return r==u||r==d||o==u||o==d?[!1,e,t]:i([r,u],[o,d])?[!0,[r,u],[o,d]]:i([r,d],[o,u])?[!0,[r,d],[o,u]]:[!1,e,t]}function Un(e,t){const{bestEdgeToInsert:n}=st(e,t);t.edges.delete(n),t.edges.add([e,n[0]]),t.edges.add([e,n[1]])}function st(e,t){let n=1/0,i;for(let s of t.edges.all()){const r=t.length([e,s[0]])+t.length([e,s[1]])-t.length(s);r<n&&(n=r,i=s)}return i=i,{bestEdgeToInsert:i,minLeng:n}}function*Bn(e){const t=[...e.nodes.all()];for(let n=0;n<t.length;n++){const i=t[n];jn(i,e)&&(n=0,yield)}}function jn(e,t){const n=[...t.neighbors(e)];t.edges.delete([e,n[0]]),t.edges.delete([e,n[1]]);const i=[n[0],n[1]];return t.edges.add(i),Un(e,t),t.edges.has(i)}function*Fn(e){e.edges.clear();let t=[...e.nodes.all()],[n,i,s]=t.splice(0,3);for(e.edges.add([n,i]),e.edges.add([i,s]),e.edges.add([n,s]),yield;t.length>0;){let r,o,u=1/0;for(let d of t){let{bestEdgeToInsert:l,minLeng:f}=st(d,e);f<u&&(r=d,o=l)}o=o,r=r,t.splice(t.indexOf(r),1),e.edges.delete(o),e.edges.add([r,o[0]]),e.edges.add([r,o[1]]),yield}}class Wn{constructor(t){A(this,"timesUsed",0);this.partition=t}getPartition(){switch(typeof this.partition){case"number":return this.partition;case"object":return this.partition.getPartition()}}setPartition(t){typeof this.partition=="object"&&this.partition.setPartition(t),this.partition=t}incrementTimesUsed(){this.timesUsed++}isUsedUp(){return this.timesUsed>=2}}function*Xn(e){e.edges.clear();let t=[],n=[...e.nodes.all()];for(let r=0;r<n.length-1;r++)for(let o=r+1;o<n.length;o++){let u=[n[r],n[o]];t.push([u,e.length(u)])}t.sort((r,o)=>r[1]-o[1]);let i=new Map(n.map((r,o)=>[r,new Wn(o)]));for(let[r,o]of t){if(e.edges.count()==e.nodes.count()-1)break;let u=i.get(r[0]),d=i.get(r[1]);u.isUsedUp()||d.isUsedUp()||u.getPartition()==d.getPartition()||(e.edges.add(r),u.incrementTimesUsed(),d.incrementTimesUsed(),u.setPartition(d),yield)}let s=n.filter(r=>!i.get(r).isUsedUp());e.edges.add(s),yield}const rt=["Random","Shortest edge","Cheapest insertion"],Re=["2-Opt","Next neighbor"];function ot(e){switch(e){case"Random":return"Randomly chosen edges, which form a cycle";case"2-Opt":return"Select two edges and swap them if it improves the total distance (this removes a crossing)";case"Next neighbor":return"Select the closest neighbor to the current node";case"Cheapest insertion":return"Insert the closest node to the current cycle";case"Shortest edge":return"Select the shortest edge"}}function Yn(e){switch(e){case"Random":return Nn;case"2-Opt":return zn;case"Next neighbor":return Bn;case"Cheapest insertion":return Fn;case"Shortest edge":return Xn}}function qe(e,t){const n=Yn(t);for(let i of n(e));}const se=nt({nPoints:20,initAlgoAndLeng:[rt[0],"?"],optimAlgoAndLengStack:[[Re[0],"?"]]}),Hn=50,Kn=4;class U{constructor(t){A(this,"value");this.value=t}add(t){return t instanceof U?new U(this.value+t.value):new U(this.value+t)}subtract(t){return t instanceof U?new U(this.value-t.value):new U(this.value-t)}multiply(t){return t instanceof U?new U(this.value*t.value):new U(this.value*t)}divide(t){return t instanceof U?new U(this.value/t.value):new U(this.value/t)}px(){return`${this.value}px`}percent(){return`${this.value}%`}rem(){return`${this.value}rem`}}const lt="#353535",ye=new U(40),ut=new U(5),ze=5;function Gn(e){let t,n,i,s,r;return{c(){t=E("button"),n=E("h1"),i=fe(e[0]),b(n,"class","svelte-1ry7ct6"),O(n,"color",oe),O(n,"font-size",ye.multiply(.9).px()),b(t,"class","svelte-1ry7ct6"),O(t,"background-color",lt),O(t,"margin",ut.px()),O(t,"height",ye.px()),O(t,"width",ye.px())},m(o,u){B(o,t,u),k(t,n),k(n,i),s||(r=p(t,"click",e[1]),s=!0)},p(o,[u]){u&1&&we(i,o[0])},i:M,o:M,d(o){o&&z(t),s=!1,r()}}}function Jn(e,t,n){let{text:i=""}=t;function s(r){v.call(this,e,r)}return e.$$set=r=>{"text"in r&&n(0,i=r.text)},[i,s]}class at extends K{constructor(t){super(),H(this,t,Jn,Gn,X,{text:0})}}function Qn(e){let t,n,i=(typeof e[0]=="number"?Math.round(e[0]*100)/100:e[0])+"",s,r,o;return{c(){t=E("div"),n=E("sub"),s=fe(i),r=W(),o=E("button"),b(n,"class","svelte-1g9dhtq"),b(o,"class","svelte-1g9dhtq"),b(t,"id","container"),b(t,"title","length after this algorithm ran"),b(t,"class","svelte-1g9dhtq"),O(t,"width",e[1])},m(u,d){B(u,t,d),k(t,n),k(n,s),k(t,r),k(t,o)},p(u,[d]){d&1&&i!==(i=(typeof u[0]=="number"?Math.round(u[0]*100)/100:u[0])+"")&&we(s,i),d&2&&O(t,"width",u[1])},i:M,o:M,d(u){u&&z(t)}}}function Zn(e,t,n){let i,{length:s}=t,{maxLeng:r}=t;return e.$$set=o=>{"length"in o&&n(0,s=o.length),"maxLeng"in o&&n(2,r=o.maxLeng)},e.$$.update=()=>{e.$$.dirty&5&&n(1,i=`${typeof r=="number"&&typeof s=="number"?s/r*100:0}%`)},[s,i,r]}class Vn extends K{constructor(t){super(),H(this,t,Zn,Qn,X,{length:0,maxLeng:2})}}function Te(e,t,n){const i=e.slice();return i[6]=t[n],i}function De(e){let t,n=e[6]+"",i,s,r;return{c(){t=E("option"),i=fe(n),t.__value=s=e[6],be(t,t.__value),b(t,"title",r=e[2](e[6]))},m(o,u){B(o,t,u),k(t,i)},p(o,u){u&2&&n!==(n=o[6]+"")&&we(i,n),u&2&&s!==(s=o[6])&&(t.__value=s,be(t,t.__value)),u&6&&r!==(r=o[2](o[6]))&&b(t,"title",r)},d(o){o&&z(t)}}}function $n(e){let t,n,i,s,r,o,u,d=$(e[1]),l=[];for(let f=0;f<d.length;f+=1)l[f]=De(Te(e,d,f));return s=new Vn({props:{length:e[3],maxLeng:e[4]}}),{c(){t=E("div"),n=E("select");for(let f=0;f<l.length;f+=1)l[f].c();i=W(),F(s.$$.fragment),b(n,"id","options"),b(n,"class","svelte-z9s8u5"),e[0]===void 0&&de(()=>e[5].call(n)),O(n,"background-color",lt),O(n,"margin",ut.px()),O(n,"height",ye.px()),O(n,"color",oe),b(t,"class","svelte-z9s8u5")},m(f,c){B(f,t,c),k(t,n);for(let h=0;h<l.length;h+=1)l[h]&&l[h].m(n,null);Ne(n,e[0],!0),k(t,i),T(s,t,null),r=!0,o||(u=p(n,"change",e[5]),o=!0)},p(f,[c]){if(c&6){d=$(f[1]);let _;for(_=0;_<d.length;_+=1){const g=Te(f,d,_);l[_]?l[_].p(g,c):(l[_]=De(g),l[_].c(),l[_].m(n,null))}for(;_<l.length;_+=1)l[_].d(1);l.length=d.length}c&3&&Ne(n,f[0]);const h={};c&8&&(h.length=f[3]),c&16&&(h.maxLeng=f[4]),s.$set(h)},i(f){r||(L(s.$$.fragment,f),r=!0)},o(f){S(s.$$.fragment,f),r=!1},d(f){f&&z(t),ve(l,f),D(s),o=!1,u()}}}function xn(e,t,n){let{selectedOption:i}=t,{algoOptions:s}=t,{algoDescription:r}=t,{length:o}=t,{maxLeng:u}=t;function d(){i=gn(this),n(0,i),n(1,s)}return e.$$set=l=>{"selectedOption"in l&&n(0,i=l.selectedOption),"algoOptions"in l&&n(1,s=l.algoOptions),"algoDescription"in l&&n(2,r=l.algoDescription),"length"in l&&n(3,o=l.length),"maxLeng"in l&&n(4,u=l.maxLeng)},[i,s,r,o,u,d]}class ct extends K{constructor(t){super(),H(this,t,xn,$n,X,{selectedOption:0,algoOptions:1,algoDescription:2,length:3,maxLeng:4})}}function Ue(e,t,n){const i=e.slice();return i[12]=t[n],i[13]=t,i[14]=n,i}function Be(e){let t,n,i,s,r;function o(f){e[9](f,e[12])}function u(f){e[10](f,e[12])}function d(f){e[11](f)}let l={algoOptions:[...Re.values()],algoDescription:ot};return e[12][0]!==void 0&&(l.selectedOption=e[12][0]),e[12][1]!==void 0&&(l.length=e[12][1]),e[2]!==void 0&&(l.maxLeng=e[2]),t=new ct({props:l}),j.push(()=>Q(t,"selectedOption",o)),j.push(()=>Q(t,"length",u)),j.push(()=>Q(t,"maxLeng",d)),{c(){F(t.$$.fragment)},m(f,c){T(t,f,c),r=!0},p(f,c){e=f;const h={};!n&&c&2&&(n=!0,h.selectedOption=e[12][0],J(()=>n=!1)),!i&&c&2&&(i=!0,h.length=e[12][1],J(()=>i=!1)),!s&&c&4&&(s=!0,h.maxLeng=e[2],J(()=>s=!1)),t.$set(h)},i(f){r||(L(t.$$.fragment,f),r=!0)},o(f){S(t.$$.fragment,f),r=!1},d(f){D(t,f)}}}function je(e){let t,n;return t=new at({props:{text:"-"}}),t.$on("click",e[4]),{c(){F(t.$$.fragment)},m(i,s){T(t,i,s),n=!0},p:M,i(i){n||(L(t.$$.fragment,i),n=!0)},o(i){S(t.$$.fragment,i),n=!1},d(i){D(t,i)}}}function Fe(e){let t,n;return t=new at({props:{text:"+"}}),t.$on("click",e[3]),{c(){F(t.$$.fragment)},m(i,s){T(t,i,s),n=!0},p:M,i(i){n||(L(t.$$.fragment,i),n=!0)},o(i){S(t.$$.fragment,i),n=!1},d(i){D(t,i)}}}function ei(e){let t,n,i,s,r,o,u,d,l,f,c,h,_,g;function y(w){e[6](w)}function m(w){e[7](w)}function V(w){e[8](w)}let Z={algoOptions:[...rt.values()],algoDescription:ot};e[0][0]!==void 0&&(Z.selectedOption=e[0][0]),e[0][1]!==void 0&&(Z.length=e[0][1]),e[2]!==void 0&&(Z.maxLeng=e[2]),s=new ct({props:Z}),j.push(()=>Q(s,"selectedOption",y)),j.push(()=>Q(s,"length",m)),j.push(()=>Q(s,"maxLeng",V));let Y=$(e[1]),I=[];for(let w=0;w<Y.length;w+=1)I[w]=Be(Ue(e,Y,w));const Le=w=>S(I[w],1,1,()=>{I[w]=null});let C=e[1].length>0&&je(e),N=e[1].length+1<=ze&&Fe(e);return{c(){t=E("div"),n=E("div"),n.textContent="initialization Algorithm:",i=W(),F(s.$$.fragment),d=W(),l=E("div"),l.textContent="optimization Algorithms:",f=W();for(let w=0;w<I.length;w+=1)I[w].c();c=W(),h=E("div"),C&&C.c(),_=W(),N&&N.c(),O(n,"color",oe),O(l,"color",oe),b(h,"class","buttons svelte-1waooqs"),b(t,"class","container svelte-1waooqs")},m(w,R){B(w,t,R),k(t,n),k(t,i),T(s,t,null),k(t,d),k(t,l),k(t,f);for(let G=0;G<I.length;G+=1)I[G]&&I[G].m(t,null);k(t,c),k(t,h),C&&C.m(h,null),k(h,_),N&&N.m(h,null),g=!0},p(w,[R]){const G={};if(!r&&R&1&&(r=!0,G.selectedOption=w[0][0],J(()=>r=!1)),!o&&R&1&&(o=!0,G.length=w[0][1],J(()=>o=!1)),!u&&R&4&&(u=!0,G.maxLeng=w[2],J(()=>u=!1)),s.$set(G),R&6){Y=$(w[1]);let q;for(q=0;q<Y.length;q+=1){const ge=Ue(w,Y,q);I[q]?(I[q].p(ge,R),L(I[q],1)):(I[q]=Be(ge),I[q].c(),L(I[q],1),I[q].m(t,c))}for(ue(),q=Y.length;q<I.length;q+=1)Le(q);ae()}w[1].length>0?C?(C.p(w,R),R&2&&L(C,1)):(C=je(w),C.c(),L(C,1),C.m(h,_)):C&&(ue(),S(C,1,1,()=>{C=null}),ae()),w[1].length+1<=ze?N?(N.p(w,R),R&2&&L(N,1)):(N=Fe(w),N.c(),L(N,1),N.m(h,null)):N&&(ue(),S(N,1,1,()=>{N=null}),ae())},i(w){if(!g){L(s.$$.fragment,w);for(let R=0;R<Y.length;R+=1)L(I[R]);L(C),L(N),g=!0}},o(w){S(s.$$.fragment,w),I=I.filter(Boolean);for(let R=0;R<I.length;R+=1)S(I[R]);S(C),S(N),g=!1},d(w){w&&z(t),D(s),ve(I,w),C&&C.d(),N&&N.d()}}}function ti(e,t,n){let i,s,{initAlgoAndLeng:r}=t,{optimAlgoAndLengStack:o}=t;function u(){o.push([Re[0],"?"]),n(1,o),console.log("push")}function d(){o.pop(),n(1,o),console.log("pop")}function l(y){e.$$.not_equal(r[0],y)&&(r[0]=y,n(0,r))}function f(y){e.$$.not_equal(r[1],y)&&(r[1]=y,n(0,r))}function c(y){s=y,n(2,s),n(5,i),n(0,r),n(1,o)}function h(y,m){e.$$.not_equal(m[0],y)&&(m[0]=y,n(1,o))}function _(y,m){e.$$.not_equal(m[1],y)&&(m[1]=y,n(1,o))}function g(y){s=y,n(2,s),n(5,i),n(0,r),n(1,o)}return e.$$set=y=>{"initAlgoAndLeng"in y&&n(0,r=y.initAlgoAndLeng),"optimAlgoAndLengStack"in y&&n(1,o=y.optimAlgoAndLengStack)},e.$$.update=()=>{e.$$.dirty&3&&n(5,i=[r[1],...o.map(y=>y[1])].filter(y=>typeof y=="number")),e.$$.dirty&32&&n(2,s=i.length==0?"?":Math.max(...i))},[r,o,s,u,d,i,l,f,c,h,_,g]}class ni extends K{constructor(t){super(),H(this,t,ti,ei,X,{initAlgoAndLeng:0,optimAlgoAndLengStack:1})}}function ii(e){let t,n,i,s,r,o,u,d,l,f;function c(m){e[1](m)}function h(m){e[2](m)}let _={};e[0].initAlgoAndLeng!==void 0&&(_.initAlgoAndLeng=e[0].initAlgoAndLeng),e[0].optimAlgoAndLengStack!==void 0&&(_.optimAlgoAndLengStack=e[0].optimAlgoAndLengStack),i=new ni({props:_}),j.push(()=>Q(i,"initAlgoAndLeng",c)),j.push(()=>Q(i,"optimAlgoAndLengStack",h));function g(m){e[3](m)}let y={text:"Number of Points",min:Kn,max:Hn};return e[0].nPoints!==void 0&&(y.value=e[0].nPoints),d=new Pn({props:y}),j.push(()=>Q(d,"value",g)),{c(){t=E("div"),n=E("div"),F(i.$$.fragment),o=W(),u=E("div"),F(d.$$.fragment),b(n,"class","stack svelte-15mtvx8"),b(u,"class","slider svelte-15mtvx8"),b(t,"class","container svelte-15mtvx8")},m(m,V){B(m,t,V),k(t,n),T(i,n,null),k(t,o),k(t,u),T(d,u,null),f=!0},p(m,[V]){const Z={};!s&&V&1&&(s=!0,Z.initAlgoAndLeng=m[0].initAlgoAndLeng,J(()=>s=!1)),!r&&V&1&&(r=!0,Z.optimAlgoAndLengStack=m[0].optimAlgoAndLengStack,J(()=>r=!1)),i.$set(Z);const Y={};!l&&V&1&&(l=!0,Y.value=m[0].nPoints,J(()=>l=!1)),d.$set(Y)},i(m){f||(L(i.$$.fragment,m),L(d.$$.fragment,m),f=!0)},o(m){S(i.$$.fragment,m),S(d.$$.fragment,m),f=!1},d(m){m&&z(t),D(i),D(d)}}}function si(e,t,n){let i;Je(e,se,u=>n(0,i=u));function s(u){e.$$.not_equal(i.initAlgoAndLeng,u)&&(i.initAlgoAndLeng=u,se.set(i))}function r(u){e.$$.not_equal(i.optimAlgoAndLengStack,u)&&(i.optimAlgoAndLengStack=u,se.set(i))}function o(u){e.$$.not_equal(i.nPoints,u)&&(i.nPoints=u,se.set(i))}return[i,s,r,o]}class ri extends K{constructor(t){super(),H(this,t,si,ii,X,{})}}class oi{constructor(){A(this,"currentLayerId");A(this,"setups");A(this,"renderers");A(this,"dispatchers");A(this,"needsSetup");A(this,"needsRedraw");A(this,"context");A(this,"width");A(this,"height");A(this,"autoclear");A(this,"pixelRatio");A(this,"renderLoop");A(this,"layerObserver");A(this,"layerRef");A(this,"layerSequence");A(this,"renderingLayerId");A(this,"activeLayerId");A(this,"activeLayerDispatcher");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.getRenderingLayerId=this.getRenderingLayerId.bind(this),this.currentLayerId=1,this.setups=new Map,this.renderers=new Map,this.dispatchers=new Map,this.needsSetup=!1,this.needsRedraw=!0,this.renderingLayerId=0,this.activeLayerId=0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}register({setup:t,render:n,dispatcher:i}){return t&&(this.setups.set(this.currentLayerId,t),this.needsSetup=!0),this.renderers.set(this.currentLayerId,n),this.dispatchers.set(this.currentLayerId,i),this.needsRedraw=!0,this.currentLayerId++}unregister(t){this.renderers.delete(t),this.dispatchers.delete(t),this.needsRedraw=!0}setup(t,n){this.context=t,this.layerRef=n,this.observeLayerSequence(),this.startRenderLoop()}observeLayerSequence(){this.layerObserver=new MutationObserver(this.getLayerSequence.bind(this)),this.layerObserver.observe(this.layerRef,{childList:!0}),this.getLayerSequence()}getLayerSequence(){const t=[...this.layerRef.children];this.layerSequence=t.map(n=>+(n.dataset.layerId??-1)),this.redraw()}startRenderLoop(){this.render(),this.renderLoop=requestAnimationFrame(()=>this.startRenderLoop())}render(){var r;const t=this.context,n=this.width,i=this.height,s=this.pixelRatio;if(this.needsSetup){for(const[o,u]of this.setups)u({context:t,width:n,height:i}),this.setups.delete(o);this.needsSetup=!1}if(this.needsRedraw){t.setTransform(s,0,0,s,0,0),this.autoclear&&t.clearRect(0,0,n,i);for(const o of this.layerSequence)this.renderingLayerId=o,(r=this.renderers.get(o))==null||r({context:t,width:n,height:i});this.needsRedraw=!1}}setActiveLayer(t,n){this.activeLayerId!==t&&(n instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerleave",n)),this.dispatchLayerEvent(new MouseEvent("mouseleave",n))),this.activeLayerId=t,this.activeLayerDispatcher=this.dispatchers.get(t),n instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerenter",n)),this.dispatchLayerEvent(new MouseEvent("mouseenter",n))))}dispatchLayerEvent(t){if(this.activeLayerDispatcher){if(window.TouchEvent&&t instanceof TouchEvent){const{left:n,top:i}=t.target.getBoundingClientRect(),{clientX:s,clientY:r}=t.changedTouches[0],o={x:s-n,y:r-i,originalEvent:t};this.activeLayerDispatcher(t.type,o)}else if(t instanceof MouseEvent){const n={x:t.offsetX,y:t.offsetY,originalEvent:t};this.activeLayerDispatcher(t.type,n)}}}getRenderingLayerId(){return this.renderingLayerId}destroy(){typeof window>"u"||(this.layerObserver.disconnect(),cancelAnimationFrame(this.renderLoop))}}const li=e=>{const t=e*2,n=t>>16&255,i=t>>8&255,s=t&255;return`rgb(${n}, ${i}, ${s})`},ui=(e,t,n)=>{const i=(e<<16|t<<8|n)/2;return i%1?0:i},ai=["drawImage"],ci=["filter","shadowBlur","globalCompositeOperation","globalAlpha"],di=["drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],fi=e=>{let t;const n=document.createElement("canvas"),i=n.getContext("2d",{willReadFrequently:!0}),s=()=>{n.width=e.canvas.width,n.height=e.canvas.height};return new MutationObserver(s).observe(e.canvas,{attributeFilter:["width","height"]}),s(),new Proxy(e,{get(o,u){if(u==="_getLayerIdAtPixel")return(l,f)=>{const[c,h,_]=i.getImageData(l,f,1,1).data;return ui(c,h,_)};const d=o[u];return typeof d!="function"?d:function(...l){if(di.includes(u)){const f=li(t());i.fillStyle=f,i.strokeStyle=f}if(u==="drawImage"){const f=l.slice(1);i.fillRect(...f)}return ai.includes(u)||Reflect.apply(d,i,l),Reflect.apply(d,o,l)}},set(o,u,d){return u==="_renderingLayerId"?(t=d,!0):(o[u]=d,ci.includes(u)||(i[u]=d),!0)}})};function hi(e){let t,n,i,s=`${e[0]}px`,r=`${e[1]}px`,o,u,d,l,f;const c=e[18].default,h=Qe(c,e,e[17],null);return{c(){t=E("canvas"),o=W(),u=E("div"),h&&h.c(),b(t,"width",n=e[0]*e[5]),b(t,"height",i=e[1]*e[5]),b(t,"class",e[4]),b(t,"style",e[2]),O(t,"display","block"),O(t,"width",s),O(t,"height",r),O(u,"display","none")},m(_,g){B(_,t,g),e[64](t),B(_,o,g),B(_,u,g),h&&h.m(u,null),e[65](u),d=!0,l||(f=[p(t,"touchstart",pe(function(){P(e[3]?e[9]:null)&&(e[3]?e[9]:null).apply(this,arguments)})),p(t,"mousemove",function(){P(e[3]?e[8]:null)&&(e[3]?e[8]:null).apply(this,arguments)}),p(t,"pointermove",function(){P(e[3]?e[8]:null)&&(e[3]?e[8]:null).apply(this,arguments)}),p(t,"click",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"contextmenu",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"dblclick",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"mousedown",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"mouseenter",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"mouseleave",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"mouseup",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"wheel",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"touchcancel",pe(function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)})),p(t,"touchend",pe(function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)})),p(t,"touchmove",pe(function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)})),p(t,"pointerenter",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"pointerleave",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"pointerdown",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"pointerup",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"pointercancel",function(){P(e[3]?e[10]:null)&&(e[3]?e[10]:null).apply(this,arguments)}),p(t,"focus",e[19]),p(t,"blur",e[20]),p(t,"fullscreenchange",e[21]),p(t,"fullscreenerror",e[22]),p(t,"scroll",e[23]),p(t,"cut",e[24]),p(t,"copy",e[25]),p(t,"paste",e[26]),p(t,"keydown",e[27]),p(t,"keypress",e[28]),p(t,"keyup",e[29]),p(t,"auxclick",e[30]),p(t,"click",e[31]),p(t,"contextmenu",e[32]),p(t,"dblclick",e[33]),p(t,"mousedown",e[34]),p(t,"mouseenter",e[35]),p(t,"mouseleave",e[36]),p(t,"mousemove",e[37]),p(t,"mouseover",e[38]),p(t,"mouseout",e[39]),p(t,"mouseup",e[40]),p(t,"select",e[41]),p(t,"wheel",e[42]),p(t,"drag",e[43]),p(t,"dragend",e[44]),p(t,"dragenter",e[45]),p(t,"dragstart",e[46]),p(t,"dragleave",e[47]),p(t,"dragover",e[48]),p(t,"drop",e[49]),p(t,"touchcancel",e[50]),p(t,"touchend",e[51]),p(t,"touchmove",e[52]),p(t,"touchstart",e[53]),p(t,"pointerover",e[54]),p(t,"pointerenter",e[55]),p(t,"pointerdown",e[56]),p(t,"pointermove",e[57]),p(t,"pointerup",e[58]),p(t,"pointercancel",e[59]),p(t,"pointerout",e[60]),p(t,"pointerleave",e[61]),p(t,"gotpointercapture",e[62]),p(t,"lostpointercapture",e[63])],l=!0)},p(_,g){e=_,(!d||g[0]&33&&n!==(n=e[0]*e[5]))&&b(t,"width",n),(!d||g[0]&34&&i!==(i=e[1]*e[5]))&&b(t,"height",i),(!d||g[0]&16)&&b(t,"class",e[4]),(!d||g[0]&4)&&b(t,"style",e[2]);const y=g[0]&4;y&&O(t,"display","block"),(y||g[0]&5&&s!==(s=`${e[0]}px`))&&O(t,"width",s),(y||g[0]&6&&r!==(r=`${e[1]}px`))&&O(t,"height",r),h&&h.p&&(!d||g[0]&131072)&&$e(h,c,e,e[17],d?Ve(c,e[17],g,null):xe(e[17]),null)},i(_){d||(L(h,_),d=!0)},o(_){S(h,_),d=!1},d(_){_&&(z(t),z(o),z(u)),e[64](null),h&&h.d(_),e[65](null),l=!1,ee(f)}}}const dt=Symbol(),gi=()=>wn(dt);function pi(e,t,n){let i,{$$slots:s={},$$scope:r}=t,{width:o=640,height:u=640,pixelRatio:d=null,style:l="",autoclear:f=!0,layerEvents:c=!1}=t,{class:h=""}=t,_,g=null,y;const m=new oi;function V(){m.redraw()}function Z(){return _}function Y(){return g}d==null&&(typeof window<"u"?d=window.devicePixelRatio:d=2),bn(dt,{register:m.register,unregister:m.unregister,redraw:m.redraw}),yn(()=>{const a=_.getContext("2d");c?(g=fi(a),g._renderingLayerId=m.getRenderingLayerId):g=a,m.setup(g,y)}),et(()=>m.destroy());const I=a=>{const Ae=a.offsetX*i,ke=a.offsetY*i,Se=g._getLayerIdAtPixel(Ae,ke);m.setActiveLayer(Se,a),m.dispatchLayerEvent(a)},Le=a=>{const{clientX:Ae,clientY:ke}=a.changedTouches[0],{left:Se,top:tn}=_.getBoundingClientRect(),nn=(Ae-Se)*i,sn=(ke-tn)*i,rn=g._getLayerIdAtPixel(nn,sn);m.setActiveLayer(rn,a),m.dispatchLayerEvent(a)},C=a=>{window.TouchEvent&&a instanceof TouchEvent&&a.preventDefault(),m.dispatchLayerEvent(a)};function N(a){v.call(this,e,a)}function w(a){v.call(this,e,a)}function R(a){v.call(this,e,a)}function G(a){v.call(this,e,a)}function q(a){v.call(this,e,a)}function ge(a){v.call(this,e,a)}function gt(a){v.call(this,e,a)}function pt(a){v.call(this,e,a)}function _t(a){v.call(this,e,a)}function mt(a){v.call(this,e,a)}function yt(a){v.call(this,e,a)}function vt(a){v.call(this,e,a)}function bt(a){v.call(this,e,a)}function wt(a){v.call(this,e,a)}function Lt(a){v.call(this,e,a)}function At(a){v.call(this,e,a)}function kt(a){v.call(this,e,a)}function St(a){v.call(this,e,a)}function Et(a){v.call(this,e,a)}function It(a){v.call(this,e,a)}function Ot(a){v.call(this,e,a)}function Rt(a){v.call(this,e,a)}function Pt(a){v.call(this,e,a)}function Ct(a){v.call(this,e,a)}function Nt(a){v.call(this,e,a)}function Mt(a){v.call(this,e,a)}function qt(a){v.call(this,e,a)}function zt(a){v.call(this,e,a)}function Tt(a){v.call(this,e,a)}function Dt(a){v.call(this,e,a)}function Ut(a){v.call(this,e,a)}function Bt(a){v.call(this,e,a)}function jt(a){v.call(this,e,a)}function Ft(a){v.call(this,e,a)}function Wt(a){v.call(this,e,a)}function Xt(a){v.call(this,e,a)}function Yt(a){v.call(this,e,a)}function Ht(a){v.call(this,e,a)}function Kt(a){v.call(this,e,a)}function Gt(a){v.call(this,e,a)}function Jt(a){v.call(this,e,a)}function Qt(a){v.call(this,e,a)}function Zt(a){v.call(this,e,a)}function Vt(a){v.call(this,e,a)}function $t(a){v.call(this,e,a)}function xt(a){j[a?"unshift":"push"](()=>{_=a,n(6,_)})}function en(a){j[a?"unshift":"push"](()=>{y=a,n(7,y)})}return e.$$set=a=>{"width"in a&&n(0,o=a.width),"height"in a&&n(1,u=a.height),"pixelRatio"in a&&n(11,d=a.pixelRatio),"style"in a&&n(2,l=a.style),"autoclear"in a&&n(12,f=a.autoclear),"layerEvents"in a&&n(3,c=a.layerEvents),"class"in a&&n(4,h=a.class),"$$scope"in a&&n(17,r=a.$$scope)},e.$$.update=()=>{e.$$.dirty[0]&2048&&n(5,i=d??1),e.$$.dirty[0]&1&&n(16,m.width=o,m),e.$$.dirty[0]&2&&n(16,m.height=u,m),e.$$.dirty[0]&32&&n(16,m.pixelRatio=i,m),e.$$.dirty[0]&4096&&n(16,m.autoclear=f,m),e.$$.dirty[0]&71683&&m.redraw()},[o,u,l,c,h,i,_,y,I,Le,C,d,f,V,Z,Y,m,r,s,N,w,R,G,q,ge,gt,pt,_t,mt,yt,vt,bt,wt,Lt,At,kt,St,Et,It,Ot,Rt,Pt,Ct,Nt,Mt,qt,zt,Tt,Dt,Ut,Bt,jt,Ft,Wt,Xt,Yt,Ht,Kt,Gt,Jt,Qt,Zt,Vt,$t,xt,en]}class _i extends K{constructor(t){super(),H(this,t,pi,hi,X,{width:0,height:1,pixelRatio:11,style:2,autoclear:12,layerEvents:3,class:4,redraw:13,getCanvas:14,getContext:15},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[13]}get getCanvas(){return this.$$.ctx[14]}get getContext(){return this.$$.ctx[15]}}function mi(e){let t;return{c(){t=E("div"),b(t,"data-layer-id",e[0])},m(n,i){B(n,t,i)},p:M,i:M,o:M,d(n){n&&z(t)}}}function yi(e,t,n){const{register:i,unregister:s,redraw:r}=gi(),o=vn();let{setup:u=void 0}=t,{render:d=()=>{}}=t;const l=i({setup:u,render:d,dispatcher:o});return et(()=>s(l)),e.$$set=f=>{"setup"in f&&n(1,u=f.setup),"render"in f&&n(2,d=f.render)},e.$$.update=()=>{e.$$.dirty&4&&r()},[l,u,d]}class Pe extends K{constructor(t){super(),H(this,t,yi,mi,X,{setup:1,render:2})}}let We;const ft=Date.now(),ht=e=>(e(Date.now()-ft),We=window.requestAnimationFrame(()=>ht(e)),()=>window.cancelAnimationFrame(We));function vi(){}Cn(Date.now()-ft,typeof window>"u"?vi:ht);function bi(e){let t;const n=e[2].default,i=Qe(n,e,e[3],null);return{c(){i&&i.c()},m(s,r){i&&i.m(s,r),t=!0},p(s,r){i&&i.p&&(!t||r&8)&&$e(i,n,s,s[3],t?Ve(n,s[3],r,null):xe(s[3]),null)},i(s){t||(L(i,s),t=!0)},o(s){S(i,s),t=!1},d(s){i&&i.d(s)}}}function wi(e){let t,n,i;return n=new _i({props:{width:e[0],height:e[1],$$slots:{default:[bi]},$$scope:{ctx:e}}}),{c(){t=E("div"),F(n.$$.fragment),b(t,"class","svelte-1a0boxu")},m(s,r){B(s,t,r),T(n,t,null),i=!0},p(s,[r]){const o={};r&1&&(o.width=s[0]),r&2&&(o.height=s[1]),r&8&&(o.$$scope={dirty:r,ctx:s}),n.$set(o)},i(s){i||(L(n.$$.fragment,s),i=!0)},o(s){S(n.$$.fragment,s),i=!1},d(s){s&&z(t),D(n)}}}function Li(e,t,n){let{$$slots:i={},$$scope:s}=t,{width:r=0}=t,{height:o=0}=t;return e.$$set=u=>{"width"in u&&n(0,r=u.width),"height"in u&&n(1,o=u.height),"$$scope"in u&&n(3,s=u.$$scope)},[r,o,i,s]}class Ai extends K{constructor(t){super(),H(this,t,Li,wi,X,{width:0,height:1})}}const ki=5,Si=2;function Ei(e){let t,n;return t=new Pe({props:{render:e[0]}}),{c(){F(t.$$.fragment)},m(i,s){T(t,i,s),n=!0},p:M,i(i){n||(L(t.$$.fragment,i),n=!0)},o(i){S(t.$$.fragment,i),n=!1},d(i){D(t,i)}}}function Ii(e,t,n){let i,s,{coords:r}=t;const o=({context:u,width:d,height:l})=>{u.fillStyle="white",u.beginPath(),u.arc(i*d,s*l,ki,0,2*Math.PI),u.fill()};return e.$$set=u=>{"coords"in u&&n(1,r=u.coords)},e.$$.update=()=>{e.$$.dirty&2&&([i,s]=r)},[o,r]}class Oi extends K{constructor(t){super(),H(this,t,Ii,Ei,X,{coords:1})}}function Ri(e){let t,n;return t=new Pe({props:{render:e[0]}}),{c(){F(t.$$.fragment)},m(i,s){T(t,i,s),n=!0},p:M,i(i){n||(L(t.$$.fragment,i),n=!0)},o(i){S(t.$$.fragment,i),n=!1},d(i){D(t,i)}}}function Pi(e,t,n){let i,s,r,o,{coords:u}=t;const d=({context:l,width:f,height:c})=>{l.beginPath(),l.moveTo(i*f,s*c),l.lineTo(r*f,o*c),l.strokeStyle=oe,l.lineWidth=Si,l.stroke()};return e.$$set=l=>{"coords"in l&&n(1,u=l.coords)},e.$$.update=()=>{e.$$.dirty&2&&([[i,s],[r,o]]=u)},[d,u]}class Ci extends K{constructor(t){super(),H(this,t,Pi,Ri,X,{coords:1})}}function Xe(e,t,n){const i=e.slice();return i[9]=t[n],i}function Ye(e,t,n){const i=e.slice();return i[12]=t[n],i}function He(e){let t,n;return t=new Oi({props:{coords:e[0].nodes.get(e[12])}}),{c(){F(t.$$.fragment)},m(i,s){T(t,i,s),n=!0},p(i,s){const r={};s&1&&(r.coords=i[0].nodes.get(i[12])),t.$set(r)},i(i){n||(L(t.$$.fragment,i),n=!0)},o(i){S(t.$$.fragment,i),n=!1},d(i){D(t,i)}}}function Ke(e){let t,n;return t=new Ci({props:{coords:[e[0].nodes.get(e[9][0]),e[0].nodes.get(e[9][1])]}}),{c(){F(t.$$.fragment)},m(i,s){T(t,i,s),n=!0},p(i,s){const r={};s&1&&(r.coords=[i[0].nodes.get(i[9][0]),i[0].nodes.get(i[9][1])]),t.$set(r)},i(i){n||(L(t.$$.fragment,i),n=!0)},o(i){S(t.$$.fragment,i),n=!1},d(i){D(t,i)}}}function Ni(e){let t,n,i,s,r=$(e[0].nodes.all()),o=[];for(let c=0;c<r.length;c+=1)o[c]=He(Ye(e,r,c));const u=c=>S(o[c],1,1,()=>{o[c]=null});let d=$(e[0].edges.all()),l=[];for(let c=0;c<d.length;c+=1)l[c]=Ke(Xe(e,d,c));const f=c=>S(l[c],1,1,()=>{l[c]=null});return i=new Pe({props:{render:e[5]}}),{c(){for(let c=0;c<o.length;c+=1)o[c].c();t=W();for(let c=0;c<l.length;c+=1)l[c].c();n=W(),F(i.$$.fragment)},m(c,h){for(let _=0;_<o.length;_+=1)o[_]&&o[_].m(c,h);B(c,t,h);for(let _=0;_<l.length;_+=1)l[_]&&l[_].m(c,h);B(c,n,h),T(i,c,h),s=!0},p(c,h){if(h&1){r=$(c[0].nodes.all());let g;for(g=0;g<r.length;g+=1){const y=Ye(c,r,g);o[g]?(o[g].p(y,h),L(o[g],1)):(o[g]=He(y),o[g].c(),L(o[g],1),o[g].m(t.parentNode,t))}for(ue(),g=r.length;g<o.length;g+=1)u(g);ae()}if(h&1){d=$(c[0].edges.all());let g;for(g=0;g<d.length;g+=1){const y=Xe(c,d,g);l[g]?(l[g].p(y,h),L(l[g],1)):(l[g]=Ke(y),l[g].c(),L(l[g],1),l[g].m(n.parentNode,n))}for(ue(),g=d.length;g<l.length;g+=1)f(g);ae()}const _={};h&8&&(_.render=c[5]),i.$set(_)},i(c){if(!s){for(let h=0;h<r.length;h+=1)L(o[h]);for(let h=0;h<d.length;h+=1)L(l[h]);L(i.$$.fragment,c),s=!0}},o(c){o=o.filter(Boolean);for(let h=0;h<o.length;h+=1)S(o[h]);l=l.filter(Boolean);for(let h=0;h<l.length;h+=1)S(l[h]);S(i.$$.fragment,c),s=!1},d(c){c&&(z(t),z(n)),ve(o,c),ve(l,c),D(i,c)}}}function Mi(e){let t,n,i,s,r,o,u,d,l,f;function c(g){e[6](g)}function h(g){e[7](g)}let _={$$slots:{default:[Ni]},$$scope:{ctx:e}};return e[1]!==void 0&&(_.width=e[1]),e[2]!==void 0&&(_.height=e[2]),i=new Ai({props:_}),j.push(()=>Q(i,"width",c)),j.push(()=>Q(i,"height",h)),l=new ri({}),{c(){t=E("div"),n=E("div"),F(i.$$.fragment),u=W(),d=E("div"),F(l.$$.fragment),b(n,"id","canvas"),b(n,"class","svelte-2jpa7b"),de(()=>e[8].call(n)),b(d,"id","input"),b(t,"id","app"),b(t,"class","svelte-2jpa7b")},m(g,y){B(g,t,y),k(t,n),T(i,n,null),o=_n(n,e[8].bind(n)),k(t,u),k(t,d),T(l,d,null),f=!0},p(g,[y]){const m={};y&32777&&(m.$$scope={dirty:y,ctx:g}),!s&&y&2&&(s=!0,m.width=g[1],J(()=>s=!1)),!r&&y&4&&(r=!0,m.height=g[2],J(()=>r=!1)),i.$set(m)},i(g){f||(L(i.$$.fragment,g),L(l.$$.fragment,g),f=!0)},o(g){S(i.$$.fragment,g),S(l.$$.fragment,g),f=!1},d(g){g&&z(t),D(i),o(),D(l)}}}function qi(e,t,n){let i;Je(e,se,h=>n(4,i=h));let s,r,o=new it,u=0;const d=({context:h})=>{};function l(h){s=h,n(1,s)}function f(h){r=h,n(2,r)}function c(){r=this.clientHeight,s=this.clientWidth,n(2,r),n(1,s)}return e.$$.update=()=>{if(e.$$.dirty&25){o.adjustNumberOfNodes(i.nPoints),qe(o,i.initAlgoAndLeng[0]),dn(se,i.initAlgoAndLeng[1]=o.totalLength(),i);for(let h of i.optimAlgoAndLengStack)qe(o,h[0]),h[1]=o.totalLength();n(0,o),n(4,i),n(3,u),n(3,u+=1)}},[o,s,r,u,i,d,l,f,c]}class zi extends K{constructor(t){super(),H(this,t,qi,Mi,X,{})}}new zi({target:document.body});
