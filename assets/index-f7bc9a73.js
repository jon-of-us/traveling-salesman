var wn=Object.defineProperty;var bn=(t,e,n)=>e in t?wn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var A=(t,e,n)=>(bn(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function n(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=n(r);fetch(r.href,o)}})();function C(){}function Ln(t,e){for(const n in e)t[n]=e[n];return t}function et(t){return t()}function Pe(){return Object.create(null)}function te(t){t.forEach(et)}function T(t){return typeof t=="function"}function j(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Sn(t){return Object.keys(t).length===0}function kn(t,...e){if(t==null){for(const i of e)i(void 0);return C}const n=t.subscribe(...e);return n.unsubscribe?()=>n.unsubscribe():n}function ae(t,e,n){t.$$.on_destroy.push(kn(e,n))}function tt(t,e,n,i){if(t){const r=nt(t,e,n,i);return t[0](r)}}function nt(t,e,n,i){return t[1]&&i?Ln(n.ctx.slice(),t[1](i(e))):n.ctx}function it(t,e,n,i){if(t[2]&&i){const r=t[2](i(n));if(e.dirty===void 0)return r;if(typeof r=="object"){const o=[],s=Math.max(e.dirty.length,r.length);for(let l=0;l<s;l+=1)o[l]=e.dirty[l]|r[l];return o}return e.dirty|r}return e.dirty}function rt(t,e,n,i,r,o){if(r){const s=nt(e,n,i,o);t.p(s,r)}}function st(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let i=0;i<n;i++)e[i]=-1;return e}return-1}function An(t,e,n){return t.set(n),e}function O(t,e){t.appendChild(e)}function z(t,e,n){t.insertBefore(e,n||null)}function P(t){t.parentNode&&t.parentNode.removeChild(t)}function ee(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function N(t){return document.createElement(t)}function oe(t){return document.createTextNode(t)}function K(){return oe(" ")}function ve(){return oe("")}function p(t,e,n,i){return t.addEventListener(e,n,i),()=>t.removeEventListener(e,n,i)}function he(t){return function(e){return e.preventDefault(),t.call(this,e)}}function L(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function En(t){return t===""?null:+t}function Rn(t){return Array.from(t.childNodes)}function we(t,e){e=""+e,t.data!==e&&(t.data=e)}function me(t,e){t.value=e??""}function I(t,e,n,i){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,i?"important":"")}function Ce(t,e,n){for(let i=0;i<t.options.length;i+=1){const r=t.options[i];if(r.__value===e){r.selected=!0;return}}(!n||e!==void 0)&&(t.selectedIndex=-1)}function In(t){const e=t.querySelector(":checked");return e&&e.__value}let ge;function On(){if(ge===void 0){ge=!1;try{typeof window<"u"&&window.parent&&window.parent.document}catch{ge=!0}}return ge}function Nn(t,e){getComputedStyle(t).position==="static"&&(t.style.position="relative");const i=N("iframe");i.setAttribute("style","display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;"),i.setAttribute("aria-hidden","true"),i.tabIndex=-1;const r=On();let o;return r?(i.src="data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}<\/script>",o=p(window,"message",s=>{s.source===i.contentWindow&&e()})):(i.src="about:blank",i.onload=()=>{o=p(i.contentWindow,"resize",e),e()}),O(t,i),()=>{(r||o&&i.contentWindow)&&o(),P(i)}}function Mn(t,e,{bubbles:n=!1,cancelable:i=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:i})}let ce;function ue(t){ce=t}function de(){if(!ce)throw new Error("Function called outside component initialization");return ce}function ot(t){de().$$.on_mount.push(t)}function lt(t){de().$$.on_destroy.push(t)}function Pn(){const t=de();return(e,n,{cancelable:i=!1}={})=>{const r=t.$$.callbacks[e];if(r){const o=Mn(e,n,{cancelable:i});return r.slice().forEach(s=>{s.call(t,o)}),!o.defaultPrevented}return!0}}function Cn(t,e){return de().$$.context.set(t,e),e}function Tn(t){return de().$$.context.get(t)}function v(t,e){const n=t.$$.callbacks[e.type];n&&n.slice().forEach(i=>i.call(this,e))}const re=[],G=[];let se=[];const Ae=[],zn=Promise.resolve();let Ee=!1;function Dn(){Ee||(Ee=!0,zn.then(ut))}function fe(t){se.push(t)}function $(t){Ae.push(t)}const ke=new Set;let ne=0;function ut(){if(ne!==0)return;const t=ce;do{try{for(;ne<re.length;){const e=re[ne];ne++,ue(e),qn(e.$$)}}catch(e){throw re.length=0,ne=0,e}for(ue(null),re.length=0,ne=0;G.length;)G.pop()();for(let e=0;e<se.length;e+=1){const n=se[e];ke.has(n)||(ke.add(n),n())}se.length=0}while(re.length);for(;Ae.length;)Ae.pop()();Ee=!1,ke.clear(),ue(t)}function qn(t){if(t.fragment!==null){t.update(),te(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(fe)}}function Bn(t){const e=[],n=[];se.forEach(i=>t.indexOf(i)===-1?e.push(i):n.push(i)),n.forEach(i=>i()),se=e}const pe=new Set;let V;function J(){V={r:0,c:[],p:V}}function Q(){V.r||te(V.c),V=V.p}function w(t,e){t&&t.i&&(pe.delete(t),t.i(e))}function S(t,e,n,i){if(t&&t.o){if(pe.has(t))return;pe.add(t),V.c.push(()=>{pe.delete(t),i&&(n&&t.d(1),i())}),t.o(e)}else i&&i()}function W(t){return(t==null?void 0:t.length)!==void 0?t:Array.from(t)}function x(t,e,n){const i=t.$$.props[e];i!==void 0&&(t.$$.bound[i]=n,n(t.$$.ctx[i]))}function B(t){t&&t.c()}function D(t,e,n){const{fragment:i,after_update:r}=t.$$;i&&i.m(e,n),fe(()=>{const o=t.$$.on_mount.map(et).filter(T);t.$$.on_destroy?t.$$.on_destroy.push(...o):te(o),t.$$.on_mount=[]}),r.forEach(fe)}function q(t,e){const n=t.$$;n.fragment!==null&&(Bn(n.after_update),te(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Un(t,e){t.$$.dirty[0]===-1&&(re.push(t),Dn(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function X(t,e,n,i,r,o,s,l=[-1]){const u=ce;ue(t);const c=t.$$={fragment:null,ctx:[],props:o,update:C,not_equal:r,bound:Pe(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:Pe(),dirty:l,skip_bound:!1,root:e.target||u.$$.root};s&&s(c.root);let f=!1;if(c.ctx=n?n(t,e.props||{},(_,g,...d)=>{const m=d.length?d[0]:g;return c.ctx&&r(c.ctx[_],c.ctx[_]=m)&&(!c.skip_bound&&c.bound[_]&&c.bound[_](m),f&&Un(t,_)),g}):[],c.update(),f=!0,te(c.before_update),c.fragment=i?i(c.ctx):!1,e.target){if(e.hydrate){const _=Rn(e.target);c.fragment&&c.fragment.l(_),_.forEach(P)}else c.fragment&&c.fragment.c();e.intro&&w(t.$$.fragment),D(t,e.target,e.anchor),ut()}ue(u)}class Y{constructor(){A(this,"$$");A(this,"$$set")}$destroy(){q(this,1),this.$destroy=C}$on(e,n){if(!T(n))return C;const i=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return i.push(n),()=>{const r=i.indexOf(n);r!==-1&&i.splice(r,1)}}$set(e){this.$$set&&!Sn(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const jn="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(jn);class U{constructor(e){A(this,"value");this.value=e}add(e){return e instanceof U?new U(this.value+e.value):new U(this.value+e)}subtract(e){return e instanceof U?new U(this.value-e.value):new U(this.value-e)}multiply(e){return e instanceof U?new U(this.value*e.value):new U(this.value*e)}divide(e){return e instanceof U?new U(this.value/e.value):new U(this.value/e)}px(){return`${this.value}px`}percent(){return`${this.value}%`}rem(){return`${this.value}rem`}val(){return this.value}}getComputedStyle(document.body).getPropertyValue("background-color");let at=t=>`rgba(220, 220, 220, ${t})`,Re=at(1),ct=1;const Fn=5,Wn=2,Xn=50,Yn=new U(245),Hn=4,Ie="#353535",ft=new U(20),Oe=new U(5),Kn="#00df16",Gn=Ie,Te=5,ze=.05;function Jn(t){let e,n,i,r,o=(typeof t[4]=="string"?`${t[4]}: ${t[0]}`:t[4](t[0]))+"",s,l,u;return{c(){e=N("div"),n=N("input"),i=K(),r=N("span"),s=oe(o),L(n,"type","range"),L(n,"min",t[1]),L(n,"max",t[2]),L(n,"step",t[3]),L(n,"class","svelte-zgqnk3"),I(r,"--color",t[5]),L(r,"class","svelte-zgqnk3"),L(e,"class","slidercontainer svelte-zgqnk3")},m(c,f){z(c,e,f),O(e,n),me(n,t[0]),O(e,i),O(e,r),O(r,s),l||(u=[p(n,"change",t[7]),p(n,"input",t[7])],l=!0)},p(c,[f]){f&2&&L(n,"min",c[1]),f&4&&L(n,"max",c[2]),f&8&&L(n,"step",c[3]),f&1&&me(n,c[0]),f&17&&o!==(o=(typeof c[4]=="string"?`${c[4]}: ${c[0]}`:c[4](c[0]))+"")&&we(s,o)},i:C,o:C,d(c){c&&P(e),l=!1,te(u)}}}function Qn(t,e,n){let{min:i=0}=e,{max:r=100}=e,{step:o=1}=e,{initialValue:s=1/0}=e,{value:l}=e;s!=1/0&&(l=s);let u=Re,{text:c=_=>`${_}`}=e;function f(){l=En(this.value),n(0,l)}return t.$$set=_=>{"min"in _&&n(1,i=_.min),"max"in _&&n(2,r=_.max),"step"in _&&n(3,o=_.step),"initialValue"in _&&n(6,s=_.initialValue),"value"in _&&n(0,l=_.value),"text"in _&&n(4,c=_.text)},[l,i,r,o,c,u,s,f]}class Zn extends Y{constructor(e){super(),X(this,e,Qn,Jn,j,{min:1,max:2,step:3,initialValue:6,value:0,text:4})}}const ie=[];function Vn(t,e){return{subscribe:Ne(t,e).subscribe}}function Ne(t,e=C){let n;const i=new Set;function r(l){if(j(t,l)&&(t=l,n)){const u=!ie.length;for(const c of i)c[1](),ie.push(c,t);if(u){for(let c=0;c<ie.length;c+=2)ie[c][0](ie[c+1]);ie.length=0}}}function o(l){r(l(t))}function s(l,u=C){const c=[l,u];return i.add(c),i.size===1&&(n=e(r,o)||C),l(t),()=>{i.delete(c),i.size===0&&n&&(n(),n=null)}}return{set:r,update:o,subscribe:s}}function De(t){return t*2654435761%2**32}function*$n(t){let e=[...t.nodes.all()].sort((n,i)=>De(n)-De(i));t.edges.clear();for(let n=0;n<e.length;n++)t.edges.add([e[n],e[(n+1)%e.length]]),yield}let dt=class{constructor(){A(this,"nextIdx",0);A(this,"nodes",new Map)}add(e,n){this.nodes.set(this.nextIdx,[e,n]),this.nextIdx++}setCoords(e,n){if(!this.nodes.has(e))throw new Error(`node ${e} not found`);this.nodes.set(e,n)}get(e){let n=this.nodes.get(e);if(n===void 0)throw new Error(`node ${e} not found`);return n}delete(e){this.nodes.delete(e)}count(){return this.nodes.size}all(){return this.nodes.keys()}},ht=class{constructor(e){A(this,"edges",new Set);e!=null&&(this.edges=structuredClone(e.edges))}associateNumber(e){let n=[...e].sort((i,r)=>i-r).reverse();return n[0]*(n[0]+1)/2+n[1]}disassociateNumber(e){let n=Math.floor((Math.sqrt(8*e+1)-1)/2),i=e-n*(n+1)/2;return[n,i]}add(e){if(e[0]===e[1])throw new Error("self loop not allowed");this.edges.add(this.associateNumber(e))}delete(e){return this.edges.delete(this.associateNumber(e))}has(e){return this.edges.has(this.associateNumber(e))}count(){return this.edges.size}*all(){for(let e of this.edges)yield this.disassociateNumber(e)}clear(){this.edges.clear()}};class gt{constructor(e=new dt,n=new ht){this.nodes=e,this.edges=n}edgeLength(e){const[n,i]=this.nodes.get(e[0]),[r,o]=this.nodes.get(e[1]);return Math.sqrt((n-r)**2+(i-o)**2)}totalLength(){let e=0;for(let n of this.edges.all())e+=this.edgeLength(n);return e}neighborMap(){var n,i;let e=new Map;for(let[r,o]of this.edges.all())e.has(r)||e.set(r,new Set),e.has(o)||e.set(o,new Set),(n=e.get(r))==null||n.add(o),(i=e.get(o))==null||i.add(r);return e}neighbors(e){let n=new Set;for(let[i,r]of this.edges.all())i===e&&n.add(r),r===e&&n.add(i);return n}isClosedLoop(){if(this.edges.count()<3)return!1;let e=this.neighborMap(),n=e.keys().next().value,i=-1,r=n,o=0;do{let s=[...e.get(r).values()];if(s.length!==2)return!1;s=s.filter(l=>l!==i),i=r,r=s[0],o++}while(r!==n&&o<=this.edges.count()+1);return o===this.edges.count()}}function*xn(t){for(;ei(t);)yield}function ei(t){let e=[...t.edges.all()];for(;e.length>=2;){let n=e.pop();for(let i of e){let[r,o,s]=ti(n,i,t);if(r)return t.edges.delete(n),t.edges.delete(i),t.edges.add(o),t.edges.add(s),!0}}return!1}function ti(t,e,n){function i(c,f){if(n.edgeLength(c)+n.edgeLength(f)>=r)return!1;let _=new gt;for(let g of n.edges.all())_.edges.add(g);return _.edges.delete(t),_.edges.delete(e),_.edges.add(c),_.edges.add(f),_.isClosedLoop()}const r=n.edgeLength(t)+n.edgeLength(e),[o,s]=t,[l,u]=e;return o==l||o==u||s==l||s==u?[!1,t,e]:i([o,l],[s,u])?[!0,[o,l],[s,u]]:i([o,u],[s,l])?[!0,[o,u],[s,l]]:[!1,t,e]}function ni(t,e){const{bestEdgeToInsert:n}=pt(t,e);e.edges.delete(n),e.edges.add([t,n[0]]),e.edges.add([t,n[1]])}function pt(t,e){let n=1/0,i;for(let r of e.edges.all()){const o=e.edgeLength([t,r[0]])+e.edgeLength([t,r[1]])-e.edgeLength(r);o<n&&(n=o,i=r)}return i=i,{bestEdgeToInsert:i,minLeng:n}}function*ii(t){const e=[...t.nodes.all()];for(let n=0;n<e.length;n++){const i=e[n];ri(i,t)&&(n=-1,yield)}}function ri(t,e){const n=[...e.neighbors(t)];e.edges.delete([t,n[0]]),e.edges.delete([t,n[1]]);const i=[n[0],n[1]];return e.edges.add(i),ni(t,e),e.edges.has(i)}function*si(t){t.edges.clear();let e=[...t.nodes.all()],[n,i,r]=e.splice(0,3);for(t.edges.add([n,i]),t.edges.add([i,r]),t.edges.add([n,r]),yield;e.length>0;){let o,s,l=1/0;for(let u of e){let{bestEdgeToInsert:c,minLeng:f}=pt(u,t);f<l&&(o=u,s=c)}s=s,o=o,e.splice(e.indexOf(o),1),t.edges.delete(s),t.edges.add([o,s[0]]),t.edges.add([o,s[1]]),yield}}class oi{constructor(e){A(this,"timesUsed",0);this.partition=e}getPartition(){switch(typeof this.partition){case"number":return this.partition;case"object":return this.partition.getPartition()}}setPartition(e){typeof this.partition=="object"&&this.partition.setPartition(e),this.partition=e}incrementTimesUsed(){this.timesUsed++}isUsedUp(){return this.timesUsed>=2}}function*li(t){t.edges.clear();let e=[],n=[...t.nodes.all()];for(let o=0;o<n.length-1;o++)for(let s=o+1;s<n.length;s++){let l=[n[o],n[s]];e.push([l,t.edgeLength(l)])}e.sort((o,s)=>o[1]-s[1]);let i=new Map(n.map((o,s)=>[o,new oi(s)]));for(let[o,s]of e){if(t.edges.count()==t.nodes.count()-1)break;let l=i.get(o[0]),u=i.get(o[1]);l.isUsedUp()||u.isUsedUp()||l.getPartition()==u.getPartition()||(t.edges.add(o),l.incrementTimesUsed(),u.incrementTimesUsed(),l.setPartition(u),yield)}let r=n.filter(o=>!i.get(o).isUsedUp());t.edges.add(r),yield}const mt=["Random","Shortest edge","Cheapest insertion"],_e=["Next neighbor","2-Opt"];function _t(t){switch(t){case"Random":return"Randomly chosen edges, which form a cycle";case"2-Opt":return"Select two edges and swap them if it improves the total distance (this removes a crossing)";case"Next neighbor":return"Select the closest neighbor to the current node";case"Cheapest insertion":return"Insert the closest node to the current cycle";case"Shortest edge":return"Select the shortest edge"}}function ui(t){switch(t){case"Random":return $n;case"2-Opt":return xn;case"Next neighbor":return ii;case"Cheapest insertion":return si;case"Shortest edge":return li}}function*ai(t,e){yield*ui(e)(t)}const le=Ne({nPoints:40,initAlgo:mt[0],optimAlgoStack:[_e[0],_e[1]]}),ye=Ne({renderedStep:15});function ci(t){let e,n,i,r;return{c(){e=N("button"),n=oe(t[0]),L(e,"class","svelte-utlsjp"),I(e,"background-color",Ie),I(e,"margin",Oe.px()),I(e,"height",ft.px()),I(e,"color",Re)},m(o,s){z(o,e,s),O(e,n),i||(r=p(e,"click",t[1]),i=!0)},p(o,[s]){s&1&&we(n,o[0])},i:C,o:C,d(o){o&&P(e),i=!1,r()}}}function fi(t,e,n){let{text:i=""}=e;function r(o){v.call(this,t,o)}return t.$$set=o=>{"text"in o&&n(0,i=o.text)},[i,r]}class yt extends Y{constructor(e){super(),X(this,e,fi,ci,j,{text:0})}}function qe(t,e,n){const i=t.slice();return i[4]=e[n],i}function Be(t){let e,n=t[4]+"",i,r,o;return{c(){e=N("option"),i=oe(n),e.__value=r=t[4],me(e,e.__value),L(e,"title",o=t[2](t[4]))},m(s,l){z(s,e,l),O(e,i)},p(s,l){l&2&&n!==(n=s[4]+"")&&we(i,n),l&2&&r!==(r=s[4])&&(e.__value=r,me(e,e.__value)),l&6&&o!==(o=s[2](s[4]))&&L(e,"title",o)},d(s){s&&P(e)}}}function di(t){let e,n,i,r=W(t[1]),o=[];for(let s=0;s<r.length;s+=1)o[s]=Be(qe(t,r,s));return{c(){e=N("select");for(let s=0;s<o.length;s+=1)o[s].c();L(e,"id","options"),L(e,"class","svelte-oxggog"),t[0]===void 0&&fe(()=>t[3].call(e)),I(e,"background-color",Ie),I(e,"margin",Oe.px()),I(e,"height",ft.px()),I(e,"color",Re)},m(s,l){z(s,e,l);for(let u=0;u<o.length;u+=1)o[u]&&o[u].m(e,null);Ce(e,t[0],!0),n||(i=p(e,"change",t[3]),n=!0)},p(s,[l]){if(l&6){r=W(s[1]);let u;for(u=0;u<r.length;u+=1){const c=qe(s,r,u);o[u]?o[u].p(c,l):(o[u]=Be(c),o[u].c(),o[u].m(e,null))}for(;u<o.length;u+=1)o[u].d(1);o.length=r.length}l&3&&Ce(e,s[0])},i:C,o:C,d(s){s&&P(e),ee(o,s),n=!1,i()}}}function hi(t,e,n){let{selectedOption:i}=e,{algoOptions:r}=e,{algoDescription:o}=e;function s(){i=In(this),n(0,i),n(1,r)}return t.$$set=l=>{"selectedOption"in l&&n(0,i=l.selectedOption),"algoOptions"in l&&n(1,r=l.algoOptions),"algoDescription"in l&&n(2,o=l.algoDescription)},[i,r,o,s]}class vt extends Y{constructor(e){super(),X(this,e,hi,di,j,{selectedOption:0,algoOptions:1,algoDescription:2})}}function gi(t){let e,n,i,r,o=(t[0].len+1e-4).toString().slice(0,4)+"",s,l,u;return{c(){e=N("div"),n=N("div"),i=K(),r=N("sub"),s=oe(o),l=K(),u=N("button"),L(n,"id","placehodler"),L(n,"class","svelte-771zgf"),L(r,"class","svelte-771zgf"),I(r,"color",t[3]),L(u,"class","svelte-771zgf"),I(u,"background-color",t[3]),I(u,"width",t[2]),L(e,"id","container"),L(e,"title","length at this step"),L(e,"class","svelte-771zgf"),I(e,"margin",Oe.px())},m(c,f){z(c,e,f),O(e,n),O(e,i),O(e,r),O(r,s),O(e,l),O(e,u),t[6](u)},p(c,[f]){f&1&&o!==(o=(c[0].len+1e-4).toString().slice(0,4)+"")&&we(s,o),f&8&&I(r,"color",c[3]),f&8&&I(u,"background-color",c[3]),f&4&&I(u,"width",c[2])},i:C,o:C,d(c){c&&P(e),t[6](null)}}}function pi(t,e,n){let i,r,o;ae(t,ye,f=>n(5,o=f));let{step:s}=e,{maxLeng:l}=e,u;function c(f){G[f?"unshift":"push"](()=>{u=f,n(1,u)})}return t.$$set=f=>{"step"in f&&n(0,s=f.step),"maxLeng"in f&&n(4,l=f.maxLeng)},t.$$.update=()=>{t.$$.dirty&33&&n(3,i=s.index==o.renderedStep?Kn:Gn),t.$$.dirty&17&&n(2,r=`${s.len/l*100}%`),t.$$.dirty&35&&s.index==o.renderedStep&&(u==null||u.scrollIntoView({behavior:"instant",block:"center"}))},[s,u,r,i,l,o,c]}class wt extends Y{constructor(e){super(),X(this,e,pi,gi,j,{step:0,maxLeng:4})}}function Ue(t,e,n){const i=t.slice();return i[7]=e[n],i[8]=e,i[9]=n,i}function je(t,e,n){const i=t.slice();return i[10]=e[n],i}function Fe(t,e,n){const i=t.slice();return i[10]=e[n],i}function We(t){let e,n;return e=new wt({props:{step:t[10],maxLeng:t[2].maxLeng}}),{c(){B(e.$$.fragment)},m(i,r){D(e,i,r),n=!0},p(i,r){const o={};r&4&&(o.step=i[10]),r&4&&(o.maxLeng=i[2].maxLeng),e.$set(o)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){q(e,i)}}}function Xe(t){let e,n;return e=new wt({props:{step:t[10],maxLeng:t[2].maxLeng}}),{c(){B(e.$$.fragment)},m(i,r){D(e,i,r),n=!0},p(i,r){const o={};r&4&&(o.step=i[10]),r&4&&(o.maxLeng=i[2].maxLeng),e.$set(o)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){q(e,i)}}}function Ye(t){let e,n,i,r,o,s;function l(g){t[6](g,t[7],t[8],t[9])}let u={algoOptions:[..._e.values()],algoDescription:_t};t[7]!==void 0&&(u.selectedOption=t[7]),n=new vt({props:u}),G.push(()=>x(n,"selectedOption",l));let c=W(t[2].steps[t[9]+1]),f=[];for(let g=0;g<c.length;g+=1)f[g]=Xe(je(t,c,g));const _=g=>S(f[g],1,1,()=>{f[g]=null});return{c(){e=N("div"),B(n.$$.fragment),r=K();for(let g=0;g<f.length;g+=1)f[g].c();o=ve(),L(e,"title","optimization Algorithm")},m(g,d){z(g,e,d),D(n,e,null),z(g,r,d);for(let m=0;m<f.length;m+=1)f[m]&&f[m].m(g,d);z(g,o,d),s=!0},p(g,d){t=g;const m={};if(!i&&d&2&&(i=!0,m.selectedOption=t[7],$(()=>i=!1)),n.$set(m),d&4){c=W(t[2].steps[t[9]+1]);let b;for(b=0;b<c.length;b+=1){const h=je(t,c,b);f[b]?(f[b].p(h,d),w(f[b],1)):(f[b]=Xe(h),f[b].c(),w(f[b],1),f[b].m(o.parentNode,o))}for(J(),b=c.length;b<f.length;b+=1)_(b);Q()}},i(g){if(!s){w(n.$$.fragment,g);for(let d=0;d<c.length;d+=1)w(f[d]);s=!0}},o(g){S(n.$$.fragment,g),f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)S(f[d]);s=!1},d(g){g&&(P(e),P(r),P(o)),q(n),ee(f,g)}}}function He(t){let e,n;return e=new yt({props:{text:"add algorithm"}}),e.$on("click",t[3]),{c(){B(e.$$.fragment)},m(i,r){D(e,i,r),n=!0},p:C,i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){q(e,i)}}}function Ke(t){let e,n;return e=new yt({props:{text:"remove algorithm"}}),e.$on("click",t[4]),{c(){B(e.$$.fragment)},m(i,r){D(e,i,r),n=!0},p:C,i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){q(e,i)}}}function mi(t){let e,n,i,r,o,s,l,u,c;function f(y){t[5](y)}let _={algoOptions:[...mt.values()],algoDescription:_t};t[0]!==void 0&&(_.selectedOption=t[0]),i=new vt({props:_}),G.push(()=>x(i,"selectedOption",f));let g=W(t[2].steps[0]),d=[];for(let y=0;y<g.length;y+=1)d[y]=We(Fe(t,g,y));const m=y=>S(d[y],1,1,()=>{d[y]=null});let b=W(t[1]),h=[];for(let y=0;y<b.length;y+=1)h[y]=Ye(Ue(t,b,y));const H=y=>S(h[y],1,1,()=>{h[y]=null});let R=t[1].length+1<=Te&&He(t),M=t[1].length>0&&Ke(t);return{c(){e=N("div"),n=N("div"),B(i.$$.fragment),o=K();for(let y=0;y<d.length;y+=1)d[y].c();s=K();for(let y=0;y<h.length;y+=1)h[y].c();l=K(),R&&R.c(),u=K(),M&&M.c(),L(n,"title","initialization Algorithm"),L(e,"class","container svelte-risjyu")},m(y,E){z(y,e,E),O(e,n),D(i,n,null),O(e,o);for(let F=0;F<d.length;F+=1)d[F]&&d[F].m(e,null);O(e,s);for(let F=0;F<h.length;F+=1)h[F]&&h[F].m(e,null);O(e,l),R&&R.m(e,null),O(e,u),M&&M.m(e,null),c=!0},p(y,[E]){const F={};if(!r&&E&1&&(r=!0,F.selectedOption=y[0],$(()=>r=!1)),i.$set(F),E&4){g=W(y[2].steps[0]);let k;for(k=0;k<g.length;k+=1){const Z=Fe(y,g,k);d[k]?(d[k].p(Z,E),w(d[k],1)):(d[k]=We(Z),d[k].c(),w(d[k],1),d[k].m(e,s))}for(J(),k=g.length;k<d.length;k+=1)m(k);Q()}if(E&6){b=W(y[1]);let k;for(k=0;k<b.length;k+=1){const Z=Ue(y,b,k);h[k]?(h[k].p(Z,E),w(h[k],1)):(h[k]=Ye(Z),h[k].c(),w(h[k],1),h[k].m(e,l))}for(J(),k=b.length;k<h.length;k+=1)H(k);Q()}y[1].length+1<=Te?R?(R.p(y,E),E&2&&w(R,1)):(R=He(y),R.c(),w(R,1),R.m(e,u)):R&&(J(),S(R,1,1,()=>{R=null}),Q()),y[1].length>0?M?(M.p(y,E),E&2&&w(M,1)):(M=Ke(y),M.c(),w(M,1),M.m(e,null)):M&&(J(),S(M,1,1,()=>{M=null}),Q())},i(y){if(!c){w(i.$$.fragment,y);for(let E=0;E<g.length;E+=1)w(d[E]);for(let E=0;E<b.length;E+=1)w(h[E]);w(R),w(M),c=!0}},o(y){S(i.$$.fragment,y),d=d.filter(Boolean);for(let E=0;E<d.length;E+=1)S(d[E]);h=h.filter(Boolean);for(let E=0;E<h.length;E+=1)S(h[E]);S(R),S(M),c=!1},d(y){y&&P(e),q(i),ee(d,y),ee(h,y),R&&R.d(),M&&M.d()}}}function _i(t,e,n){let{initAlgo:i}=e,{optimAlgoStack:r}=e,{memory:o}=e;function s(){r.push(_e[0]),n(1,r)}function l(){r.pop(),n(1,r)}function u(f){i=f,n(0,i)}function c(f,_,g,d){g[d]=f,n(1,r)}return t.$$set=f=>{"initAlgo"in f&&n(0,i=f.initAlgo),"optimAlgoStack"in f&&n(1,r=f.optimAlgoStack),"memory"in f&&n(2,o=f.memory)},[i,r,o,s,l,u,c]}class yi extends Y{constructor(e){super(),X(this,e,_i,mi,j,{initAlgo:0,optimAlgoStack:1,memory:2})}}function vi(t){let e,n,i,r,o,s,l,u,c,f;function _(h){t[4](h)}function g(h){t[5](h)}let d={memory:t[0]};t[2].initAlgo!==void 0&&(d.initAlgo=t[2].initAlgo),t[2].optimAlgoStack!==void 0&&(d.optimAlgoStack=t[2].optimAlgoStack),i=new yi({props:d}),G.push(()=>x(i,"initAlgo",_)),G.push(()=>x(i,"optimAlgoStack",g));function m(h){t[6](h)}let b={text:"Number of Points",min:Hn,max:Xn};return t[2].nPoints!==void 0&&(b.value=t[2].nPoints),u=new Zn({props:b}),G.push(()=>x(u,"value",m)),{c(){e=N("div"),n=N("div"),B(i.$$.fragment),s=K(),l=N("div"),B(u.$$.fragment),L(n,"class","stack svelte-1ggf4bk"),L(l,"class","slider svelte-1ggf4bk"),L(e,"class","container svelte-1ggf4bk"),I(e,"width",Yn.px())},m(h,H){z(h,e,H),O(e,n),D(i,n,null),O(e,s),O(e,l),D(u,l,null),t[7](e),f=!0},p(h,[H]){const R={};H&1&&(R.memory=h[0]),!r&&H&4&&(r=!0,R.initAlgo=h[2].initAlgo,$(()=>r=!1)),!o&&H&4&&(o=!0,R.optimAlgoStack=h[2].optimAlgoStack,$(()=>o=!1)),i.$set(R);const M={};!c&&H&4&&(c=!0,M.value=h[2].nPoints,$(()=>c=!1)),u.$set(M)},i(h){f||(w(i.$$.fragment,h),w(u.$$.fragment,h),f=!0)},o(h){S(i.$$.fragment,h),S(u.$$.fragment,h),f=!1},d(h){h&&P(e),q(i),q(u),t[7](null)}}}function wi(t,e,n){let i,r;ae(t,ye,d=>n(8,i=d)),ae(t,le,d=>n(2,r=d));let{memory:o}=e,s=0,l;function u(d){n(3,s+=d.deltaY)}ot(()=>{l.addEventListener("wheel",u)});function c(d){t.$$.not_equal(r.initAlgo,d)&&(r.initAlgo=d,le.set(r))}function f(d){t.$$.not_equal(r.optimAlgoStack,d)&&(r.optimAlgoStack=d,le.set(r))}function _(d){t.$$.not_equal(r.nPoints,d)&&(r.nPoints=d,le.set(r))}function g(d){G[d?"unshift":"push"](()=>{l=d,n(1,l)})}return t.$$set=d=>{"memory"in d&&n(0,o=d.memory)},t.$$.update=()=>{t.$$.dirty&9&&(n(3,s=Math.max(s,0)),n(3,s=Math.min(s,(o.n_steps-1)/ze))),t.$$.dirty&8&&An(ye,i.renderedStep=Math.round(s*ze),i)},[o,l,r,s,c,f,_,g]}class bi extends Y{constructor(e){super(),X(this,e,wi,vi,j,{memory:0})}}class Li{constructor(){A(this,"currentLayerId");A(this,"setups");A(this,"renderers");A(this,"dispatchers");A(this,"needsSetup");A(this,"needsRedraw");A(this,"context");A(this,"width");A(this,"height");A(this,"autoclear");A(this,"pixelRatio");A(this,"renderLoop");A(this,"layerObserver");A(this,"layerRef");A(this,"layerSequence");A(this,"renderingLayerId");A(this,"activeLayerId");A(this,"activeLayerDispatcher");this.register=this.register.bind(this),this.unregister=this.unregister.bind(this),this.redraw=this.redraw.bind(this),this.getRenderingLayerId=this.getRenderingLayerId.bind(this),this.currentLayerId=1,this.setups=new Map,this.renderers=new Map,this.dispatchers=new Map,this.needsSetup=!1,this.needsRedraw=!0,this.renderingLayerId=0,this.activeLayerId=0,this.layerSequence=[]}redraw(){this.needsRedraw=!0}register({setup:e,render:n,dispatcher:i}){return e&&(this.setups.set(this.currentLayerId,e),this.needsSetup=!0),this.renderers.set(this.currentLayerId,n),this.dispatchers.set(this.currentLayerId,i),this.needsRedraw=!0,this.currentLayerId++}unregister(e){this.renderers.delete(e),this.dispatchers.delete(e),this.needsRedraw=!0}setup(e,n){this.context=e,this.layerRef=n,this.observeLayerSequence(),this.startRenderLoop()}observeLayerSequence(){this.layerObserver=new MutationObserver(this.getLayerSequence.bind(this)),this.layerObserver.observe(this.layerRef,{childList:!0}),this.getLayerSequence()}getLayerSequence(){const e=[...this.layerRef.children];this.layerSequence=e.map(n=>+(n.dataset.layerId??-1)),this.redraw()}startRenderLoop(){this.render(),this.renderLoop=requestAnimationFrame(()=>this.startRenderLoop())}render(){var o;const e=this.context,n=this.width,i=this.height,r=this.pixelRatio;if(this.needsSetup){for(const[s,l]of this.setups)l({context:e,width:n,height:i}),this.setups.delete(s);this.needsSetup=!1}if(this.needsRedraw){e.setTransform(r,0,0,r,0,0),this.autoclear&&e.clearRect(0,0,n,i);for(const s of this.layerSequence)this.renderingLayerId=s,(o=this.renderers.get(s))==null||o({context:e,width:n,height:i});this.needsRedraw=!1}}setActiveLayer(e,n){this.activeLayerId!==e&&(n instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerleave",n)),this.dispatchLayerEvent(new MouseEvent("mouseleave",n))),this.activeLayerId=e,this.activeLayerDispatcher=this.dispatchers.get(e),n instanceof MouseEvent&&(this.dispatchLayerEvent(new PointerEvent("pointerenter",n)),this.dispatchLayerEvent(new MouseEvent("mouseenter",n))))}dispatchLayerEvent(e){if(this.activeLayerDispatcher){if(window.TouchEvent&&e instanceof TouchEvent){const{left:n,top:i}=e.target.getBoundingClientRect(),{clientX:r,clientY:o}=e.changedTouches[0],s={x:r-n,y:o-i,originalEvent:e};this.activeLayerDispatcher(e.type,s)}else if(e instanceof MouseEvent){const n={x:e.offsetX,y:e.offsetY,originalEvent:e};this.activeLayerDispatcher(e.type,n)}}}getRenderingLayerId(){return this.renderingLayerId}destroy(){typeof window>"u"||(this.layerObserver.disconnect(),cancelAnimationFrame(this.renderLoop))}}const Si=t=>{const e=t*2,n=e>>16&255,i=e>>8&255,r=e&255;return`rgb(${n}, ${i}, ${r})`},ki=(t,e,n)=>{const i=(t<<16|e<<8|n)/2;return i%1?0:i},Ai=["drawImage"],Ei=["filter","shadowBlur","globalCompositeOperation","globalAlpha"],Ri=["drawImage","fill","fillRect","fillText","stroke","strokeRect","strokeText"],Ii=t=>{let e;const n=document.createElement("canvas"),i=n.getContext("2d",{willReadFrequently:!0}),r=()=>{n.width=t.canvas.width,n.height=t.canvas.height};return new MutationObserver(r).observe(t.canvas,{attributeFilter:["width","height"]}),r(),new Proxy(t,{get(s,l){if(l==="_getLayerIdAtPixel")return(c,f)=>{const[_,g,d]=i.getImageData(c,f,1,1).data;return ki(_,g,d)};const u=s[l];return typeof u!="function"?u:function(...c){if(Ri.includes(l)){const f=Si(e());i.fillStyle=f,i.strokeStyle=f}if(l==="drawImage"){const f=c.slice(1);i.fillRect(...f)}return Ai.includes(l)||Reflect.apply(u,i,c),Reflect.apply(u,s,c)}},set(s,l,u){return l==="_renderingLayerId"?(e=u,!0):(s[l]=u,Ei.includes(l)||(i[l]=u),!0)}})};function Oi(t){let e,n,i,r=`${t[0]}px`,o=`${t[1]}px`,s,l,u,c,f;const _=t[18].default,g=tt(_,t,t[17],null);return{c(){e=N("canvas"),s=K(),l=N("div"),g&&g.c(),L(e,"width",n=t[0]*t[5]),L(e,"height",i=t[1]*t[5]),L(e,"class",t[4]),L(e,"style",t[2]),I(e,"display","block"),I(e,"width",r),I(e,"height",o),I(l,"display","none")},m(d,m){z(d,e,m),t[64](e),z(d,s,m),z(d,l,m),g&&g.m(l,null),t[65](l),u=!0,c||(f=[p(e,"touchstart",he(function(){T(t[3]?t[9]:null)&&(t[3]?t[9]:null).apply(this,arguments)})),p(e,"mousemove",function(){T(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),p(e,"pointermove",function(){T(t[3]?t[8]:null)&&(t[3]?t[8]:null).apply(this,arguments)}),p(e,"click",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"contextmenu",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"dblclick",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"mousedown",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"mouseenter",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"mouseleave",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"mouseup",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"wheel",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"touchcancel",he(function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),p(e,"touchend",he(function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),p(e,"touchmove",he(function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)})),p(e,"pointerenter",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"pointerleave",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"pointerdown",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"pointerup",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"pointercancel",function(){T(t[3]?t[10]:null)&&(t[3]?t[10]:null).apply(this,arguments)}),p(e,"focus",t[19]),p(e,"blur",t[20]),p(e,"fullscreenchange",t[21]),p(e,"fullscreenerror",t[22]),p(e,"scroll",t[23]),p(e,"cut",t[24]),p(e,"copy",t[25]),p(e,"paste",t[26]),p(e,"keydown",t[27]),p(e,"keypress",t[28]),p(e,"keyup",t[29]),p(e,"auxclick",t[30]),p(e,"click",t[31]),p(e,"contextmenu",t[32]),p(e,"dblclick",t[33]),p(e,"mousedown",t[34]),p(e,"mouseenter",t[35]),p(e,"mouseleave",t[36]),p(e,"mousemove",t[37]),p(e,"mouseover",t[38]),p(e,"mouseout",t[39]),p(e,"mouseup",t[40]),p(e,"select",t[41]),p(e,"wheel",t[42]),p(e,"drag",t[43]),p(e,"dragend",t[44]),p(e,"dragenter",t[45]),p(e,"dragstart",t[46]),p(e,"dragleave",t[47]),p(e,"dragover",t[48]),p(e,"drop",t[49]),p(e,"touchcancel",t[50]),p(e,"touchend",t[51]),p(e,"touchmove",t[52]),p(e,"touchstart",t[53]),p(e,"pointerover",t[54]),p(e,"pointerenter",t[55]),p(e,"pointerdown",t[56]),p(e,"pointermove",t[57]),p(e,"pointerup",t[58]),p(e,"pointercancel",t[59]),p(e,"pointerout",t[60]),p(e,"pointerleave",t[61]),p(e,"gotpointercapture",t[62]),p(e,"lostpointercapture",t[63])],c=!0)},p(d,m){t=d,(!u||m[0]&33&&n!==(n=t[0]*t[5]))&&L(e,"width",n),(!u||m[0]&34&&i!==(i=t[1]*t[5]))&&L(e,"height",i),(!u||m[0]&16)&&L(e,"class",t[4]),(!u||m[0]&4)&&L(e,"style",t[2]);const b=m[0]&4;b&&I(e,"display","block"),(b||m[0]&5&&r!==(r=`${t[0]}px`))&&I(e,"width",r),(b||m[0]&6&&o!==(o=`${t[1]}px`))&&I(e,"height",o),g&&g.p&&(!u||m[0]&131072)&&rt(g,_,t,t[17],u?it(_,t[17],m,null):st(t[17]),null)},i(d){u||(w(g,d),u=!0)},o(d){S(g,d),u=!1},d(d){d&&(P(e),P(s),P(l)),t[64](null),g&&g.d(d),t[65](null),c=!1,te(f)}}}const bt=Symbol(),Ni=()=>Tn(bt);function Mi(t,e,n){let i,{$$slots:r={},$$scope:o}=e,{width:s=640,height:l=640,pixelRatio:u=null,style:c="",autoclear:f=!0,layerEvents:_=!1}=e,{class:g=""}=e,d,m=null,b;const h=new Li;function H(){h.redraw()}function R(){return d}function M(){return m}u==null&&(typeof window<"u"?u=window.devicePixelRatio:u=2),Cn(bt,{register:h.register,unregister:h.unregister,redraw:h.redraw}),ot(()=>{const a=d.getContext("2d");_?(m=Ii(a),m._renderingLayerId=h.getRenderingLayerId):m=a,h.setup(m,b)}),lt(()=>h.destroy());const y=a=>{const be=a.offsetX*i,Le=a.offsetY*i,Se=m._getLayerIdAtPixel(be,Le);h.setActiveLayer(Se,a),h.dispatchLayerEvent(a)},E=a=>{const{clientX:be,clientY:Le}=a.changedTouches[0],{left:Se,top:mn}=d.getBoundingClientRect(),_n=(be-Se)*i,yn=(Le-mn)*i,vn=m._getLayerIdAtPixel(_n,yn);h.setActiveLayer(vn,a),h.dispatchLayerEvent(a)},F=a=>{window.TouchEvent&&a instanceof TouchEvent&&a.preventDefault(),h.dispatchLayerEvent(a)};function k(a){v.call(this,t,a)}function Z(a){v.call(this,t,a)}function kt(a){v.call(this,t,a)}function At(a){v.call(this,t,a)}function Et(a){v.call(this,t,a)}function Rt(a){v.call(this,t,a)}function It(a){v.call(this,t,a)}function Ot(a){v.call(this,t,a)}function Nt(a){v.call(this,t,a)}function Mt(a){v.call(this,t,a)}function Pt(a){v.call(this,t,a)}function Ct(a){v.call(this,t,a)}function Tt(a){v.call(this,t,a)}function zt(a){v.call(this,t,a)}function Dt(a){v.call(this,t,a)}function qt(a){v.call(this,t,a)}function Bt(a){v.call(this,t,a)}function Ut(a){v.call(this,t,a)}function jt(a){v.call(this,t,a)}function Ft(a){v.call(this,t,a)}function Wt(a){v.call(this,t,a)}function Xt(a){v.call(this,t,a)}function Yt(a){v.call(this,t,a)}function Ht(a){v.call(this,t,a)}function Kt(a){v.call(this,t,a)}function Gt(a){v.call(this,t,a)}function Jt(a){v.call(this,t,a)}function Qt(a){v.call(this,t,a)}function Zt(a){v.call(this,t,a)}function Vt(a){v.call(this,t,a)}function $t(a){v.call(this,t,a)}function xt(a){v.call(this,t,a)}function en(a){v.call(this,t,a)}function tn(a){v.call(this,t,a)}function nn(a){v.call(this,t,a)}function rn(a){v.call(this,t,a)}function sn(a){v.call(this,t,a)}function on(a){v.call(this,t,a)}function ln(a){v.call(this,t,a)}function un(a){v.call(this,t,a)}function an(a){v.call(this,t,a)}function cn(a){v.call(this,t,a)}function fn(a){v.call(this,t,a)}function dn(a){v.call(this,t,a)}function hn(a){v.call(this,t,a)}function gn(a){G[a?"unshift":"push"](()=>{d=a,n(6,d)})}function pn(a){G[a?"unshift":"push"](()=>{b=a,n(7,b)})}return t.$$set=a=>{"width"in a&&n(0,s=a.width),"height"in a&&n(1,l=a.height),"pixelRatio"in a&&n(11,u=a.pixelRatio),"style"in a&&n(2,c=a.style),"autoclear"in a&&n(12,f=a.autoclear),"layerEvents"in a&&n(3,_=a.layerEvents),"class"in a&&n(4,g=a.class),"$$scope"in a&&n(17,o=a.$$scope)},t.$$.update=()=>{t.$$.dirty[0]&2048&&n(5,i=u??1),t.$$.dirty[0]&1&&n(16,h.width=s,h),t.$$.dirty[0]&2&&n(16,h.height=l,h),t.$$.dirty[0]&32&&n(16,h.pixelRatio=i,h),t.$$.dirty[0]&4096&&n(16,h.autoclear=f,h),t.$$.dirty[0]&71683&&h.redraw()},[s,l,c,_,g,i,d,b,y,E,F,u,f,H,R,M,h,o,r,k,Z,kt,At,Et,Rt,It,Ot,Nt,Mt,Pt,Ct,Tt,zt,Dt,qt,Bt,Ut,jt,Ft,Wt,Xt,Yt,Ht,Kt,Gt,Jt,Qt,Zt,Vt,$t,xt,en,tn,nn,rn,sn,on,ln,un,an,cn,fn,dn,hn,gn,pn]}class Pi extends Y{constructor(e){super(),X(this,e,Mi,Oi,j,{width:0,height:1,pixelRatio:11,style:2,autoclear:12,layerEvents:3,class:4,redraw:13,getCanvas:14,getContext:15},null,[-1,-1,-1])}get redraw(){return this.$$.ctx[13]}get getCanvas(){return this.$$.ctx[14]}get getContext(){return this.$$.ctx[15]}}function Ci(t){let e;return{c(){e=N("div"),L(e,"data-layer-id",t[0])},m(n,i){z(n,e,i)},p:C,i:C,o:C,d(n){n&&P(e)}}}function Ti(t,e,n){const{register:i,unregister:r,redraw:o}=Ni(),s=Pn();let{setup:l=void 0}=e,{render:u=()=>{}}=e;const c=i({setup:l,render:u,dispatcher:s});return lt(()=>r(c)),t.$$set=f=>{"setup"in f&&n(1,l=f.setup),"render"in f&&n(2,u=f.render)},t.$$.update=()=>{t.$$.dirty&4&&o()},[c,l,u]}class Me extends Y{constructor(e){super(),X(this,e,Ti,Ci,j,{setup:1,render:2})}}let Ge;const Lt=Date.now(),St=t=>(t(Date.now()-Lt),Ge=window.requestAnimationFrame(()=>St(t)),()=>window.cancelAnimationFrame(Ge));function zi(){}Vn(Date.now()-Lt,typeof window>"u"?zi:St);function Di(t){let e;const n=t[2].default,i=tt(n,t,t[3],null);return{c(){i&&i.c()},m(r,o){i&&i.m(r,o),e=!0},p(r,o){i&&i.p&&(!e||o&8)&&rt(i,n,r,r[3],e?it(n,r[3],o,null):st(r[3]),null)},i(r){e||(w(i,r),e=!0)},o(r){S(i,r),e=!1},d(r){i&&i.d(r)}}}function qi(t){let e,n,i;return n=new Pi({props:{width:t[0],height:t[1],$$slots:{default:[Di]},$$scope:{ctx:t}}}),{c(){e=N("div"),B(n.$$.fragment),L(e,"class","svelte-1katzbq")},m(r,o){z(r,e,o),D(n,e,null),i=!0},p(r,[o]){const s={};o&1&&(s.width=r[0]),o&2&&(s.height=r[1]),o&8&&(s.$$scope={dirty:o,ctx:r}),n.$set(s)},i(r){i||(w(n.$$.fragment,r),i=!0)},o(r){S(n.$$.fragment,r),i=!1},d(r){r&&P(e),q(n)}}}function Bi(t,e,n){let{$$slots:i={},$$scope:r}=e,{width:o=0}=e,{height:s=0}=e;return t.$$set=l=>{"width"in l&&n(0,o=l.width),"height"in l&&n(1,s=l.height),"$$scope"in l&&n(3,r=l.$$scope)},[o,s,i,r]}class Ui extends Y{constructor(e){super(),X(this,e,Bi,qi,j,{width:0,height:1})}}function ji(t){let e,n;return e=new Me({props:{render:t[0]}}),{c(){B(e.$$.fragment)},m(i,r){D(e,i,r),n=!0},p:C,i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){q(e,i)}}}function Fi(t,e,n){let i,r,{coords:o}=e;const s=({context:l,width:u,height:c})=>{l.fillStyle="white",l.beginPath(),l.arc(i*u,r*c,Fn,0,2*Math.PI),l.fill()};return t.$$set=l=>{"coords"in l&&n(1,o=l.coords)},t.$$.update=()=>{t.$$.dirty&2&&([i,r]=o)},[s,o]}class Wi extends Y{constructor(e){super(),X(this,e,Fi,ji,j,{coords:1})}}function Je(t,e,n){const i=t.slice();return i[1]=e[n],i}function Qe(t){let e,n;return e=new Wi({props:{coords:t[0].nodes.get(t[1])}}),{c(){B(e.$$.fragment)},m(i,r){D(e,i,r),n=!0},p(i,r){const o={};r&1&&(o.coords=i[0].nodes.get(i[1])),e.$set(o)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){q(e,i)}}}function Xi(t){let e,n,i=W(t[0].nodes.all()),r=[];for(let s=0;s<i.length;s+=1)r[s]=Qe(Je(t,i,s));const o=s=>S(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ve()},m(s,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,l);z(s,e,l),n=!0},p(s,[l]){if(l&1){i=W(s[0].nodes.all());let u;for(u=0;u<i.length;u+=1){const c=Je(s,i,u);r[u]?(r[u].p(c,l),w(r[u],1)):(r[u]=Qe(c),r[u].c(),w(r[u],1),r[u].m(e.parentNode,e))}for(J(),u=i.length;u<r.length;u+=1)o(u);Q()}},i(s){if(!n){for(let l=0;l<i.length;l+=1)w(r[l]);n=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)S(r[l]);n=!1},d(s){s&&P(e),ee(r,s)}}}function Yi(t,e,n){let{memory:i}=e;return t.$$set=r=>{"memory"in r&&n(0,i=r.memory)},[i]}class Hi extends Y{constructor(e){super(),X(this,e,Yi,Xi,j,{memory:0})}}function Ki(t){let e,n;return e=new Me({props:{render:t[0]}}),{c(){B(e.$$.fragment)},m(i,r){D(e,i,r),n=!0},p:C,i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){q(e,i)}}}function Gi(t,e,n){let i,r,o,s,{coords:l}=e,{opacity:u=1}=e;const c=({context:f,width:_,height:g})=>{f.beginPath(),f.moveTo(i*_,r*g),f.lineTo(o*_,s*g),f.strokeStyle=at(u),f.lineWidth=Wn,f.stroke()};return t.$$set=f=>{"coords"in f&&n(1,l=f.coords),"opacity"in f&&n(2,u=f.opacity)},t.$$.update=()=>{t.$$.dirty&2&&([[i,r],[o,s]]=l)},[c,l,u]}class Ji extends Y{constructor(e){super(),X(this,e,Gi,Ki,j,{coords:1,opacity:2})}}function Ze(t,e,n){const i=t.slice();return i[2]=e[n],i[4]=n,i}function Ve(t,e,n){const i=t.slice();return i[5]=e[n],i}function $e(t){let e,n;return e=new Ji({props:{coords:[t[1].nodes.get(t[5][0]),t[1].nodes.get(t[5][1])],opacity:Math.pow(4,-t[4])}}),{c(){B(e.$$.fragment)},m(i,r){D(e,i,r),n=!0},p(i,r){const o={};r&3&&(o.coords=[i[1].nodes.get(i[5][0]),i[1].nodes.get(i[5][1])]),e.$set(o)},i(i){n||(w(e.$$.fragment,i),n=!0)},o(i){S(e.$$.fragment,i),n=!1},d(i){q(e,i)}}}function xe(t){let e,n,i=W(t[2]),r=[];for(let s=0;s<i.length;s+=1)r[s]=$e(Ve(t,i,s));const o=s=>S(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ve()},m(s,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,l);z(s,e,l),n=!0},p(s,l){if(l&3){i=W(s[2]);let u;for(u=0;u<i.length;u+=1){const c=Ve(s,i,u);r[u]?(r[u].p(c,l),w(r[u],1)):(r[u]=$e(c),r[u].c(),w(r[u],1),r[u].m(e.parentNode,e))}for(J(),u=i.length;u<r.length;u+=1)o(u);Q()}},i(s){if(!n){for(let l=0;l<i.length;l+=1)w(r[l]);n=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)S(r[l]);n=!1},d(s){s&&P(e),ee(r,s)}}}function Qi(t){let e,n,i=W(t[0]),r=[];for(let s=0;s<i.length;s+=1)r[s]=xe(Ze(t,i,s));const o=s=>S(r[s],1,1,()=>{r[s]=null});return{c(){for(let s=0;s<r.length;s+=1)r[s].c();e=ve()},m(s,l){for(let u=0;u<r.length;u+=1)r[u]&&r[u].m(s,l);z(s,e,l),n=!0},p(s,[l]){if(l&3){i=W(s[0]);let u;for(u=0;u<i.length;u+=1){const c=Ze(s,i,u);r[u]?(r[u].p(c,l),w(r[u],1)):(r[u]=xe(c),r[u].c(),w(r[u],1),r[u].m(e.parentNode,e))}for(J(),u=i.length;u<r.length;u+=1)o(u);Q()}},i(s){if(!n){for(let l=0;l<i.length;l+=1)w(r[l]);n=!0}},o(s){r=r.filter(Boolean);for(let l=0;l<r.length;l+=1)S(r[l]);n=!1},d(s){s&&P(e),ee(r,s)}}}function Zi(t,e,n){let{stepsToRender:i}=e,{memory:r}=e;return t.$$set=o=>{"stepsToRender"in o&&n(0,i=o.stepsToRender),"memory"in o&&n(1,r=o.memory)},[i,r]}class Vi extends Y{constructor(e){super(),X(this,e,Zi,Qi,j,{stepsToRender:0,memory:1})}}class $i{constructor(){A(this,"steps",[]);A(this,"n_steps",0);A(this,"nodes",new dt);A(this,"maxLeng",0)}addRandomNodes(e=1){for(let n=0;n<e;n++)this.nodes.add(Math.random(),Math.random())}adjustNumberOfNodes(e){if(this.nodes.count()<e)this.addRandomNodes(e-this.nodes.count());else if(this.nodes.count()>e){let n=[...this.nodes.all()].slice(e);for(let i of n)this.nodes.delete(i)}}runAlgos(e){this.steps=[],this.maxLeng=0;let n=0,i=new gt(this.nodes);for(let r of e){let o=[];const s=()=>{let l=i.totalLength();this.maxLeng=Math.max(l,this.maxLeng);let u=new ht(i.edges);o.push({edges:u,len:l,index:n}),n++,this.n_steps=n};r==e[0]&&s();for(let l of ai(i,r))s();if(r==e[e.length-1])for(let l=0;l<ct;l++)s();this.steps.push(o)}}}function xi(t){let e,n,i,r,o,s;return e=new Hi({props:{memory:t[0]}}),i=new Vi({props:{memory:t[0],stepsToRender:t[4]}}),o=new Me({props:{render:t[7]}}),{c(){B(e.$$.fragment),n=K(),B(i.$$.fragment),r=K(),B(o.$$.fragment)},m(l,u){D(e,l,u),z(l,n,u),D(i,l,u),z(l,r,u),D(o,l,u),s=!0},p(l,u){const c={};u&1&&(c.memory=l[0]),e.$set(c);const f={};u&1&&(f.memory=l[0]),u&16&&(f.stepsToRender=l[4]),i.$set(f);const _={};u&8&&(_.render=l[7]),o.$set(_)},i(l){s||(w(e.$$.fragment,l),w(i.$$.fragment,l),w(o.$$.fragment,l),s=!0)},o(l){S(e.$$.fragment,l),S(i.$$.fragment,l),S(o.$$.fragment,l),s=!1},d(l){l&&(P(n),P(r)),q(e,l),q(i,l),q(o,l)}}}function er(t){let e,n,i,r,o,s,l,u,c,f;function _(m){t[8](m)}function g(m){t[9](m)}let d={$$slots:{default:[xi]},$$scope:{ctx:t}};return t[1]!==void 0&&(d.width=t[1]),t[2]!==void 0&&(d.height=t[2]),i=new Ui({props:d}),G.push(()=>x(i,"width",_)),G.push(()=>x(i,"height",g)),c=new bi({props:{memory:t[0]}}),{c(){e=N("div"),n=N("div"),B(i.$$.fragment),l=K(),u=N("div"),B(c.$$.fragment),L(n,"id","canvas"),L(n,"class","svelte-r17pga"),fe(()=>t[10].call(n)),L(u,"id","input"),L(e,"id","app"),L(e,"class","svelte-r17pga")},m(m,b){z(m,e,b),O(e,n),D(i,n,null),s=Nn(n,t[10].bind(n)),O(e,l),O(e,u),D(c,u,null),f=!0},p(m,[b]){const h={};b&2073&&(h.$$scope={dirty:b,ctx:m}),!r&&b&2&&(r=!0,h.width=m[1],$(()=>r=!1)),!o&&b&4&&(o=!0,h.height=m[2],$(()=>o=!1)),i.$set(h);const H={};b&1&&(H.memory=m[0]),c.$set(H)},i(m){f||(w(i.$$.fragment,m),w(c.$$.fragment,m),f=!0)},o(m){S(i.$$.fragment,m),S(c.$$.fragment,m),f=!1},d(m){m&&P(e),q(i),s(),q(c)}}}function tr(t,e,n){let i,r,o;ae(t,le,m=>n(5,r=m)),ae(t,ye,m=>n(6,o=m));let s,l,u=new $i,c=0;const f=({context:m})=>{};function _(m){s=m,n(1,s)}function g(m){l=m,n(2,l)}function d(){l=this.clientHeight,s=this.clientWidth,n(2,l),n(1,s)}return t.$$.update=()=>{if(t.$$.dirty&33){u.adjustNumberOfNodes(r.nPoints);let m=[r.initAlgo,...r.optimAlgoStack];u.runAlgos(m),n(0,u),n(5,r)}t.$$.dirty&65&&n(4,i=u.steps.flat().slice(Math.max(o.renderedStep-ct,0),o.renderedStep+1).reverse().map(m=>m.edges.all())),t.$$.dirty&104&&n(3,c+=1)},[u,s,l,c,i,r,o,f,_,g,d]}class nr extends Y{constructor(e){super(),X(this,e,tr,er,j,{})}}new nr({target:document.body});
